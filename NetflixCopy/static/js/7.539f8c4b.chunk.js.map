{"version":3,"sources":["components/Card.js","components/Modal.js","components/Details/DetailsHead.js","../node_modules/swiper/esm/components/navigation/navigation.js","components/Details/SliderSection.js","components/Details/DetailsImages.js","components/Details/DetailsRecomendation.js","components/Details/DetailsPerson.js","components/AnimatedPage.js","components/Details/DetailsCredits.js","Pages/DetailsPage.js"],"names":["Card","src","title","titleId","type","score","setType","clickHandler","date","to","className","onClick","toElementScroll","smallImgPath","unavailable","alt","substr","compose","connect","state","bodyOverflow","app","setBodyOverflow","props","contentRef","useRef","useState","active","setActive","useEffect","overflow","document","body","style","id","e","target","classList","contains","current","parentNode","remove","onClose","ref","children","viewBox","focusable","d","DetailsHead","React","forwardRef","addToListRef","match","details","lists","setData","setTypeActionCreator","setLists","accoundId","accessToken","allListsDeails","setAllListsDetails","addToListHandler","addToList","cleanAllListsDetailsAc","showListsHandler","textEnding","setModalActive","goBackHandler","originalImgPath","backdrop_path","networks","map","n","logo_path","name","first_air_date","release_date","releases","countries","find","item","iso_3166_1","certification","content_ratings","results","length","rating","runtime","number_of_seasons","genres","g","overview","in_production","last_episode_to_air","episode_number","season_number","dateConvert","air_date","next_episode_to_air","credits","cast","c","profile_path","crew","l","some","el","number_of_items","TrailerModal","iframeRef","videos","setAttribute","frameBorder","width","height","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","Navigation","toggleEl","$el","disabled","params","navigation","disabledClass","tagName","update","swiper","loop","_swiper$navigation","$nextEl","$prevEl","isBeginning","watchOverflow","enabled","isLocked","lockClass","isEnd","onPrevClick","preventDefault","slidePrev","onNextClick","slideNext","init","createElementIfNotDefined","createElements","nextEl","prevEl","$","uniqueNavElements","on","extend","addClass","destroy","_swiper$navigation2","off","removeClass","hideOnClick","hiddenClass","create","bindModuleMethods","toEdge","fromEdge","_swiper$navigation3","click","_swiper$navigation4","targetEl","is","pagination","clickable","isHidden","hasClass","emit","toggleClass","SliderSection","setSwiper","toSlide","slideTo","setToSlide","spaceBetween","slidesPerView","onSwiper","s","SwiperCore","use","ImageModal","image","setImage","setPrevImageHandler","setNextImageHandler","total","DetailsImages","images","file_path","modalHandler","middleImgPath","setDataHandler","recommendations","poster_path","media_type","vote_average","toFixed","DetailsPerson","birthday","gender","place_of_birth","biography","animations","initial","opacity","z","animate","exit","AnimatedPage","div","variants","DetailsCredits","combined_credits","Cookie","data","titleType","auth","accountId","history","useNavigate","useParams","useLocation","scolltoTop","querySelector","scrollIntoView","block","getAllListDetailsHandler","forEach","list","a","setTimeout","setImageModalActive","toggle","num","add","goBack","modal","backdrops","DetailsRecomendation","profiles"],"mappings":"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","file":"static/js/7.539f8c4b.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { smallImgPath, toElementScroll, unavailable } from '../global/config';\r\n\r\nconst Card = ({ src, title, titleId,type, setType, score, clickHandler, date }) => {\r\n\tconst onClickHandler =()=>{\r\n\t\tif(clickHandler){ \r\n\t\t\tclickHandler()\r\n\t\t}\r\n\t\ttoElementScroll(false)\r\n\t}\r\n\treturn (\r\n\t\t<Link to={`/title/${type}/${titleId}`} className=\"card\" \r\n\t\t\tonClick={onClickHandler}\r\n\t\t>\r\n\t\t\t<div className=\"card__img\">\r\n\t\t\t\t<img src={ src ? (smallImgPath + src): unavailable} alt=\"\" />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"card__name\">{title}</div>\r\n\t\t\t<div className=\"card__score\">\r\n\t\t\t\t{score}\r\n\t\t\t</div>\r\n\t\t\t{date && <div className=\"card__date\">{date.substr(0, 4)}</div>}\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nexport default Card;","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\n// import { withRouter } from 'react-router-native';\r\nimport { setBodyOverflow } from \"../redux/app-reducer\";\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types'\r\nconst Modal = props => {\r\n    const contentRef = useRef(null)\r\n    const closeModal = (e) => {\r\n        if (e.target.classList.contains('modal') || e.target.classList.contains('modal__close')) {\r\n            contentRef.current.parentNode.classList.remove('active')\r\n            props.setBodyOverflow(false)\r\n            if (props.onClose) props.onClose()\r\n        }\r\n\r\n    }\r\n    const [active, setActive] = useState(false)\r\n    useEffect(() => {\r\n        setActive(props.overflow)\r\n    }, [props.active])\r\n    useEffect(() => {\r\n        if (props.bodyOverflow) {\r\n            document.body.style.overflow = \"hidden\"\r\n        } else {\r\n            document.body.style.overflow = \"\"\r\n        }\r\n    }, [props.bodyOverflow])\r\n    return (\r\n        <div id={props.id} className={`modal ${active ? 'active' : ''}`} onClick={closeModal}>\r\n            <div ref={contentRef} className={`modal-content ${props.className}`}>\r\n                {props.children}\r\n            </div>\r\n            <div className=\"modal__close\" >\r\n                <svg viewBox=\"0 0 20 20\" focusable=\"true\"><path d=\"M10.5 9.3L1.8 0.5 0.5 1.8 9.3 10.5 0.5 19.3 1.8 20.5 10.5 11.8 19.3 20.5 20.5 19.3 11.8 10.5 20.5 1.8 19.3 0.5 10.5 9.3Z\"></path></svg>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Modal.propTypes = {\r\n//     active: PropTypes.bool,\r\n//     id: PropTypes.string\r\n// }\r\n\r\n// export const ModalContent = props => {\r\n\r\n//     return (\r\n//         <div ref={contentRef} className=\"modal-content\">\r\n//             {props.children}\r\n//             <div className=\"modal__close\" onClick={closeModal}>x</div>\r\n//         </div>\r\n//     )\r\n// }\r\n// ModalContent.propTypes = {\r\n//     onClose: PropTypes.func,\r\n// }\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        bodyOverflow: state.app.bodyOverflow,\r\n    }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, { setBodyOverflow })\r\n)(Modal)","import React, { useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { dateConvert, originalImgPath, smallImgPath } from '../../global/config';\r\nimport Modal from '../Modal';\r\nconst DetailsHead = React.forwardRef(({ match, details, type, setData, setTypeActionCreator, setLists, accoundId, lists, accessToken, setAllListsDetails, allListsDeails, addToList, cleanAllListsDetailsAc, addToListHandler, showListsHandler, textEnding, goBackHandler, setModalActive }, addToListRef) => {\r\n    return (\r\n        <>\r\n            {details && typeof details['vote_average'] !== \"undefined\" &&\r\n                <article className=\"details-head\">\r\n                    <div className=\"details-head__bg\">\r\n                        <img src={`${originalImgPath}${details.backdrop_path}`} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"container-fluid\">\r\n                        <div className=\"details-wrap\">\r\n                            <div className=\"details-info\">\r\n                                <div className=\"details-networks\">\r\n                                    {details.networks && details.networks.map((n, id) => <div key={id} className=\"details-networks__item\"><img src={`${smallImgPath}${n.logo_path}`} alt={n.name} /></div>)}\r\n                                </div>\r\n                                <h2 className=\"title\">{details.name || details.title}</h2>\r\n                                <div className=\"details-metadata\">\r\n                                    {details.first_air_date && <div className=\"details-metadata__item\">{details.first_air_date.substr(0, 4)}</div>}\r\n                                    {details.release_date && <div className=\"details-metadata__item\">{details.release_date.substr(0, 4)}</div>}\r\n                                    {((details.releases && details.releases.countries.find(item => item.iso_3166_1 === 'US') && details.releases.countries.find(item => item.iso_3166_1 === 'US').certification !== \"\") || details.content_ratings) &&\r\n                                        <div className=\"details-metadata__item\">\r\n                                            <span className=\"rating\">\r\n                                                {((details.releases && details.releases.countries.find(item => item.iso_3166_1 === 'US') && details.releases.countries.find(item => item.iso_3166_1 === 'US').certification)\r\n                                                    || (details.content_ratings && details.content_ratings.results.length > 0 && details.content_ratings.results[0].rating)\r\n                                                )}\r\n                                            </span>\r\n                                        </div>\r\n                                    }\r\n                                    {(details.runtime && details.runtime > 0) ? <div className=\"details-metadata__item\">{details.runtime} мин</div> : ''}\r\n                                    {details.number_of_seasons &&\r\n                                        <div className=\"details-metadata__item\">{details.number_of_seasons + ` сезон` + textEnding(details.number_of_seasons)}</div>}\r\n                                    <div className=\"details-metadata__item genres\">{details.genres.map((g, id) => <span key={id}>{g.name}</span>)}</div>\r\n                                </div>\r\n                                <div className=\"details-overview\">{details.overview}</div>\r\n                                {details.in_production && details.last_episode_to_air && <div className=\"details-credits\">Последняя вышедшая серия:\r\n                                    <div className=\"details-credits__item\">{details.last_episode_to_air.episode_number + ' серия ' + details.last_episode_to_air.season_number + ' сезона:'} {dateConvert(details.last_episode_to_air.air_date)}</div>\r\n                                </div>}\r\n                                {details.in_production && details.next_episode_to_air && <div className=\"details-credits\">Следующая серия:\r\n                                    <div className=\"details-credits__item\"> {details.next_episode_to_air.episode_number} серия {details.next_episode_to_air.season_number} сезона: {dateConvert(details.next_episode_to_air.air_date)}  </div>\r\n                                </div>}\r\n                                {details.credits.cast && details.credits.cast.length > 1 && <div className=\"details-credits\">В ролях:\r\n                                    {details.credits.cast.map((c, id) => id < 5 && \r\n\r\n                                    <div key={id} className=\"details-credits__item\">\r\n                                        <Link to={`/title/person/${c.id}`}>{c.name}</Link>\r\n                                        <div className=\"details-credits__popup\">\r\n                                            <Link to={`/title/person/${c.id}`}>{c.name}</Link>\r\n                                            <Link to={`/title/person/${c.id}`}><img src={smallImgPath + c.profile_path} alt=\"\" /></Link>\r\n                                        </div>\r\n                                    </div>)}\r\n                                </div>}\r\n                                {details.credits.crew && details.credits.crew.length > 0 && <div className=\"details-credits\">Создатели:\r\n                                    {details.credits.crew.map((c, id) => id < 2 && <Link to={`/title/person/${c.id}`} key={id} className=\"details-credits__item\">{c.name}</Link>)}\r\n                                </div>}\r\n                                <div className=\"details-btns\">\r\n                                    <button className=\"btn\" onClick={setModalActive}>Смотреть трейлер</button>\r\n                                    {accessToken && lists && lists.length > 0 &&\r\n                                        <div className=\"addToLists\" ref={addToListRef} onClick={(e) => showListsHandler(e)}>\r\n                                            <button className=\"btn\">Добавить в список</button>\r\n                                            <ul className=\"lists\">\r\n                                                {lists.map(l =>\r\n                                                    <li key={l.id}\r\n                                                        className={`${allListsDeails.find(item => item.id === l.id) && allListsDeails.find(item => item.id === l.id).results.some(el => el.id === details.id) ? 'is-ex' : ''}`}\r\n                                                        onClick={(e) => addToListHandler(e, l.id)}\r\n                                                    >\r\n                                                        {l.name + `(${l.number_of_items})`}\r\n                                                        {allListsDeails.find(item => item.id === l.id) && allListsDeails.find(item => item.id === l.id).results.some(el => el.id === details.id) && <span>(Уже в этом списке)</span>}\r\n                                                    </li>)\r\n                                                }\r\n                                            </ul>\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n\r\n                                {/* <button className=\"btn\" onClick={goBackHandler}>Back</button> */}\r\n                            </div>\r\n                            <div className=\"details-img\"></div>\r\n                        </div>\r\n                    </div>\r\n                    <TrailerModal details={details} />\r\n                </article>\r\n            }\r\n        </>\r\n\r\n    );\r\n});\r\nconst TrailerModal = props => {\r\n    const item = props.details\r\n    const iframeRef = useRef(null)\r\n\r\n    const onClose = () => {\r\n        if (item.videos.results.length > 0) {\r\n            iframeRef.current.setAttribute('src', '')\r\n            iframeRef.current.setAttribute('title', '')\r\n        }\r\n    }\r\n    return (\r\n        <Modal active={false} id={`modal__${item.id}`} onClose={onClose}>\r\n            <div className=\"box\">\r\n                <h3 className=\"title middle\">{item.videos.results.length > 0 ? item.videos.results[item.videos.results.length - 1].name : \"Няма\"}</h3>\r\n                {\r\n                    item.videos.results.length > 0 &&\r\n                    <div className=\"modal__video\">\r\n                        <iframe ref={iframeRef} src=\"\" title=\"%\" frameBorder=\"0\" width=\"100%\" height=\"100%\"></iframe>\r\n                    </div>\r\n                }\r\n\r\n            </div>\r\n        </Modal>\r\n    )\r\n\r\n}\r\nexport default DetailsHead;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods, createElementIfNotDefined } from '../../utils/utils';\nvar Navigation = {\n  toggleEl: function toggleEl($el, disabled) {\n    $el[disabled ? 'addClass' : 'removeClass'](this.params.navigation.disabledClass);\n    if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n  },\n  update: function update() {\n    // Update Navigation Buttons\n    var swiper = this;\n    var params = swiper.params.navigation;\n    var toggleEl = swiper.navigation.toggleEl;\n    if (swiper.params.loop) return;\n    var _swiper$navigation = swiper.navigation,\n        $nextEl = _swiper$navigation.$nextEl,\n        $prevEl = _swiper$navigation.$prevEl;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        toggleEl($prevEl, true);\n      } else {\n        toggleEl($prevEl, false);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $prevEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        toggleEl($nextEl, true);\n      } else {\n        toggleEl($nextEl, false);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $nextEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  },\n  onPrevClick: function onPrevClick(e) {\n    var swiper = this;\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop) return;\n    swiper.slidePrev();\n  },\n  onNextClick: function onNextClick(e) {\n    var swiper = this;\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop) return;\n    swiper.slideNext();\n  },\n  init: function init() {\n    var swiper = this;\n    var params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper.$el, swiper.params.navigation, swiper.params.createElements, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    var $nextEl;\n    var $prevEl;\n\n    if (params.nextEl) {\n      $nextEl = $(params.nextEl);\n\n      if (swiper.params.uniqueNavElements && typeof params.nextEl === 'string' && $nextEl.length > 1 && swiper.$el.find(params.nextEl).length === 1) {\n        $nextEl = swiper.$el.find(params.nextEl);\n      }\n    }\n\n    if (params.prevEl) {\n      $prevEl = $(params.prevEl);\n\n      if (swiper.params.uniqueNavElements && typeof params.prevEl === 'string' && $prevEl.length > 1 && swiper.$el.find(params.prevEl).length === 1) {\n        $prevEl = swiper.$el.find(params.prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', swiper.navigation.onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', swiper.navigation.onPrevClick);\n    }\n\n    extend(swiper.navigation, {\n      $nextEl: $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl: $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var _swiper$navigation2 = swiper.navigation,\n        $nextEl = _swiper$navigation2.$nextEl,\n        $prevEl = _swiper$navigation2.$prevEl;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', swiper.navigation.onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', swiper.navigation.onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n};\nexport default {\n  name: 'navigation',\n  params: {\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      navigation: _extends({}, Navigation)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.navigation.init();\n      swiper.navigation.update();\n    },\n    toEdge: function toEdge(swiper) {\n      swiper.navigation.update();\n    },\n    fromEdge: function fromEdge(swiper) {\n      swiper.navigation.update();\n    },\n    destroy: function destroy(swiper) {\n      swiper.navigation.destroy();\n    },\n    'enable disable': function enableDisable(swiper) {\n      var _swiper$navigation3 = swiper.navigation,\n          $nextEl = _swiper$navigation3.$nextEl,\n          $prevEl = _swiper$navigation3.$prevEl;\n\n      if ($nextEl) {\n        $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n\n      if ($prevEl) {\n        $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n    },\n    click: function click(swiper, e) {\n      var _swiper$navigation4 = swiper.navigation,\n          $nextEl = _swiper$navigation4.$nextEl,\n          $prevEl = _swiper$navigation4.$prevEl;\n      var targetEl = e.target;\n\n      if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n        if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n        var isHidden;\n\n        if ($nextEl) {\n          isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n        } else if ($prevEl) {\n          isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if (isHidden === true) {\n          swiper.emit('navigationShow');\n        } else {\n          swiper.emit('navigationHide');\n        }\n\n        if ($nextEl) {\n          $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if ($prevEl) {\n          $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n      }\n    }\n  }\n};","import React, { useEffect, useRef, useState } from 'react';\r\n// import { middleImgPath } from '../../global/config';\r\n// import SwiperCore, { Navigation } from 'swiper/core';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport 'swiper/swiper-bundle.min.css'\r\nimport 'swiper/swiper.min.css'\r\nconst SliderSection = (props) => {\r\n    const [swiper, setSwiper] = useState(null);\r\n    useEffect(()=>{\r\n        if(props.toSlide){\r\n            if (swiper) {\r\n                swiper.slideTo(0);\r\n                props.setToSlide(false)\r\n            }\r\n        }\r\n        \r\n    },[swiper, props.toSlide])\r\n    return (\r\n        <>\r\n        {\r\n            <article className=\"details-slider\">\r\n                <div className=\"container-fluid\">\r\n                    <h3 className=\"title middle\">{props.title}</h3>\r\n                    <div className=\"details-slider__wrap\">\r\n                        <Swiper\r\n                            spaceBetween={15}\r\n                            slidesPerView={'auto'}\r\n                            navigation\r\n                            className=\"details-slider__container\"\r\n                            onSwiper={(s) => {\r\n                                // console.log(\"initialize swiper\", s);\r\n                                setSwiper(s);\r\n                              }}\r\n                        >\r\n                            {props.children}\r\n                        </Swiper>\r\n                    </div>\r\n                </div>\r\n                {/* <button onClick={()=>{swiper.slideTo(2)}}>go</button> */}\r\n            </article>\r\n        }\r\n    </>\r\n    );\r\n};\r\n\r\nexport default SliderSection;","import React, { useRef, useState } from 'react';\r\nimport { originalImgPath, middleImgPath } from '../../global/config';\r\nimport SwiperCore, { Navigation } from 'swiper/core';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport Modal from '../Modal';\r\nimport 'swiper/swiper-bundle.min.css'\r\nimport 'swiper/swiper.min.css'\r\nimport SliderSection from './SliderSection';\r\nSwiperCore.use([Navigation]);\r\nconst DetailsImages = ({ images, setModalActive, toSlide, setToSlide, className }) => {\r\n    const [image, setImage] = useState({\r\n        src: null,\r\n        id: null,\r\n    })\r\n    const modalHandler = (e, item, i)=>{\r\n        setImage({\r\n            src: item.file_path,\r\n            id: i\r\n        })\r\n        setModalActive()\r\n    }\r\n    const setNextImageHandler = ()=>{\r\n        if(image.id+1>images.length-1){\r\n            setImage({\r\n                src: images[0].file_path,\r\n                id: 0\r\n            })\r\n        }else{\r\n            setImage({\r\n                src: images[image.id+1].file_path,\r\n                id: image.id+1\r\n            })\r\n        }     \r\n    }\r\n    const setPrevImageHandler = ()=>{\r\n        if(image.id-1<0){\r\n            setImage({\r\n                src: images[images.length-1].file_path,\r\n                id: images.length-1\r\n            })\r\n        }else{\r\n            setImage({\r\n                src: images[image.id-1].file_path,\r\n                id: image.id-1\r\n            })\r\n        }\r\n       \r\n    }\r\n    const prevRef = useRef(null);\r\n    const nextRef = useRef(null);\r\n    return (\r\n        <>\r\n            {images && images.length > 0 &&\r\n                <>           \r\n                    <SliderSection title={\"Избражения\"} toSlide={toSlide} setToSlide={setToSlide}>\r\n                        {images.map((item, i) => <SwiperSlide key={i} onClick={(e)=>modalHandler(e,item,i)} className={`details-slider__item img ${className? className: ''}` }><img src={middleImgPath + item.file_path} alt=\"\" /></SwiperSlide>)}\r\n                    </SliderSection>\r\n                    <ImageModal image={image} setImage={setImage} setNextImageHandler={setNextImageHandler} setPrevImageHandler={setPrevImageHandler} total={images.length}/>\r\n                </>\r\n                // <article className=\"details-slider\">\r\n                //     <div className=\"container-fluid\">\r\n                //         <h3 className=\"title middle\">Избражения</h3>\r\n                //         <div className=\"details-slider__wrap\">\r\n                //             <Swiper\r\n                //                 // modules={[Navigation]}\r\n                //                 spaceBetween={15}\r\n                //                 slidesPerView={'auto'}\r\n                //                 navigation\r\n                //                 className=\"details-slider__container\"\r\n                //             // onSlideChange={() => console.log('slide change')}\r\n                //             // onSwiper={(swiper) => console.log(swiper)}\r\n                //             // eslint-disable-next-line react/jsx-no-duplicate-props\r\n                //             // navigation={{\r\n                //             //     prevEl: prevRef.current ? prevRef.current : undefined,\r\n                //             //     nextEl: nextRef.current ? nextRef.current : undefined,\r\n                //             // }}\r\n                //             // onInit={(swiper) => {\r\n                //             //     swiper.params.navigation.prevEl = prevRef.current;\r\n                //             //     swiper.params.navigation.nextEl = nextRef.current;\r\n                //             //     swiper.navigation.update();\r\n                //             // }}\r\n                //             >\r\n                //                 {/* <div className=\"details-slider__nav\">\r\n                //                     <div ref={prevRef} className=\"slider-btn prev\"></div>\r\n                //                     <div ref={nextRef} className=\"slider-btn next\"></div>\r\n                //                 </div> */}\r\n                //                 {images.map((item, i) => <SwiperSlide key={i} className=\"details-slider__item\"><img src={middleImgPath + item.file_path} alt=\"\" /></SwiperSlide>)}\r\n                //             </Swiper>\r\n                //         </div>\r\n                //     </div>\r\n                // </article>\r\n            }\r\n        </>\r\n    );\r\n};\r\nconst ImageModal = props => {\r\n    const item = props.image\r\n    const iframeRef = useRef(null)\r\n\r\n    const onClose = () => {\r\n        if (item.src) {\r\n            // iframeRef.current.setAttribute('src', '')\r\n            props.setImage({\r\n                src: null,\r\n                id: null,\r\n            })\r\n        }\r\n    }\r\n    return (\r\n        <Modal active={false} id={`modal-image`} onClose={onClose} className={'modal_image'}>\r\n            <div className=\"box\">\r\n                {\r\n                    item.src &&\r\n                    <div className=\"modal__img\">\r\n                        <img ref={iframeRef} src={originalImgPath + item.src} alt=\"\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div className=\"modal__btn-prev\" onClick={props.setPrevImageHandler}></div>\r\n            <div className=\"modal__btn-next\" onClick={props.setNextImageHandler}></div>\r\n            <div className=\"modal__pagination\">{item.id+1} из {props.total}</div>\r\n        </Modal>\r\n    )\r\n\r\n}\r\n\r\nexport default DetailsImages;","import React, { useRef } from 'react';\r\nimport { middleImgPath } from '../../global/config';\r\nimport SwiperCore, { Navigation } from 'swiper/core';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport 'swiper/swiper-bundle.min.css'\r\nimport 'swiper/swiper.min.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Card from '../Card';\r\nimport SliderSection from './SliderSection';\r\nSwiperCore.use([Navigation]);\r\nconst DetailsImages = ({ details, setDataHandler, toSlide, setToSlide }) => {\r\n    const updateHandler = (id, type)=>{\r\n        // window.scrollTo(250, 250)\r\n        setDataHandler(id, type, true)\r\n       \r\n    }\r\n    return (\r\n        <>\r\n            {details.recommendations && details.recommendations.results.length > 0 &&\r\n                // <article className=\"details-slider\">\r\n                //     <div className=\"container-fluid\">\r\n                //         <h3 className=\"title middle\">Реокмендации</h3>\r\n                //         <div className=\"details-slider__wrap\">\r\n                //             <Swiper\r\n                //                 spaceBetween={15}\r\n                //                 slidesPerView={'auto'}\r\n                //                 navigation\r\n                //                 className=\"details-slider__container\"\r\n                //             >\r\n                //                 {details.recommendations.results.map((item, i) =>\r\n                //                     <SwiperSlide key={i} className=\"details-slider__item small\">\r\n                //                         <Card src={item.poster_path} title={item.title} type={item.media_type} titleId={item.id} score={item.vote_average.toFixed(1)} clickHandler={() => updateHandler(item.id, item.media_type)}/>\r\n                //                     </SwiperSlide>)\r\n                //                 }\r\n                //             </Swiper>\r\n\r\n                //         </div>\r\n                //     </div>\r\n                // </article>\r\n                <SliderSection title={\"Рекомендации\"} toSlide={toSlide} setToSlide={setToSlide}>\r\n                    {details.recommendations.results.map((item, i) =>\r\n                        <SwiperSlide key={i} className=\"details-slider__item small\">\r\n                            <Card src={item.poster_path} title={item.title|| item.name} type={item.media_type} titleId={item.id} score={item.vote_average.toFixed(1)} clickHandler={() => updateHandler(item.id, item.media_type)} date={item.release_date || item.first_air_date}/>\r\n                        </SwiperSlide>)\r\n                    }\r\n                </SliderSection>\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DetailsImages;","import React from 'react';\r\nimport { originalImgPath, middleImgPath, unavailable } from '../../global/config';\r\nconst DetailsPerson = ({ details }) => {\r\n\treturn (\r\n\t\t<article className=\"details-person\">\r\n\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t<div className=\"details-person__grid\">\r\n\t\t\t\t\t<div className=\"details-person__data\">\r\n\t\t\t\t\t\t<div className=\"details-person__data-photo\">\r\n\t\t\t\t\t\t\t<img src={details.profile_path ? (middleImgPath + details.profile_path): unavailable} alt=\"\"></img>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"details-person__data-title\">Персональная информация</div>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdetails.birthday !== null &&\r\n\t\t\t\t\t\t\t<div className=\"details-person__data-item\">\r\n\t\t\t\t\t\t\t\t<div className=\"details-person__data-subtitle\">Дата рождения</div>\r\n\t\t\t\t\t\t\t\t<div className=\"details-person__data-text\">{details.birthday}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdetails.gender !== null &&\r\n\t\t\t\t\t\t\t<div className=\"details-person__data-item\">\r\n\t\t\t\t\t\t\t\t<div className=\"details-person__data-subtitle\">Пол</div>\r\n\t\t\t\t\t\t\t\t<div className=\"details-person__data-text\">{details.gender===2?'Мужской': 'Женский'}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdetails.place_of_birth !== null &&\r\n\t\t\t\t\t\t\t<div className=\"details-person__data-item\">\r\n\t\t\t\t\t\t\t\t<div className=\"details-person__data-subtitle\">Место рождения</div>\r\n\t\t\t\t\t\t\t\t<div className=\"details-person__data-text\">{details.place_of_birth}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"details-person__info\">\r\n\t\t\t\t\t\t<h2 className=\"title\">{details.name}</h2>\r\n\t\t\t\t\t\t<div className=\"text-box\">\r\n\t\t\t\t\t\t\t<p>{details.biography}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</article>\r\n\t);\r\n};\r\n\r\nexport default DetailsPerson;","import React from 'react';\r\nimport { motion } from 'framer-motion/dist/framer-motion'\r\nconst animations = {\r\n\tinitial: { opacity: 0, z: 100 },\r\n\tanimate: { opacity: 1, z: 0 },\r\n\texit: { opacity: 0, z: -100 },\r\n};\r\nconst AnimatedPage = ({ children }) => {\r\n\treturn (\r\n\t\t<motion.div\r\n\t\t\tclassName=\"animate-core\"\r\n\t\t\tvariants={animations}\r\n\t\t\tinitial=\"initial\"\r\n\t\t\tanimate=\"animate\"\r\n\t\t\texit=\"exit\"\r\n\t\t\t// transition={{ duration: 0.2 }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</motion.div>\r\n\t);\r\n};\r\n\r\nexport default AnimatedPage;","import React, { useRef } from 'react';\r\nimport { middleImgPath } from '../../global/config';\r\nimport SwiperCore, { Navigation } from 'swiper/core';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport 'swiper/swiper-bundle.min.css'\r\nimport 'swiper/swiper.min.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Card from '../Card';\r\nimport SliderSection from './SliderSection';\r\nSwiperCore.use([Navigation]);\r\nconst DetailsCredits = ({ details, setDataHandler, toSlide, setToSlide }) => {\r\n    const updateHandler = (id, type)=>{\r\n        // window.scrollTo(250, 250)\r\n        setDataHandler(id, type, true)\r\n       \r\n    }\r\n    return (\r\n        <>\r\n            {details.combined_credits && details.combined_credits.cast.length > 0 &&\r\n                <SliderSection title={\"Фильмография\"} toSlide={toSlide} setToSlide={setToSlide}>\r\n                    {details.combined_credits.cast.map((item, i) =>\r\n                        <SwiperSlide key={i} className=\"details-slider__item small\">\r\n                            <Card src={item.poster_path} title={item.title|| item.name} type={item.media_type} titleId={item.id} score={item.vote_average.toFixed(1)} clickHandler={() => updateHandler(item.id, item.media_type)} date={item.release_date || item.first_air_date}/>\r\n                        </SwiperSlide>)\r\n                    }\r\n                </SliderSection>\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DetailsCredits;","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\n// import { withRouter } from 'react-router-native';\r\nimport { useNavigate,  useParams, useLocation} from \"react-router-dom\"\r\nimport {  middleImgPath } from '../global/config';\r\nimport { setData, setTypeActionCreator } from \"../redux/details-reducer\";\r\nimport { setLists, setAllListsDetails, addToList, cleanAllListsDetailsAc } from \"../redux/lists-reducer\";\r\nimport { setBodyOverflow } from \"../redux/app-reducer\";\r\nimport { useRef } from 'react';\r\nimport DetailsHead from '../components/Details/DetailsHead';\r\nimport * as axios from \"axios\"\r\nimport Cookie from 'universal-cookie';\r\nimport { instanceV4 } from '../api/api';\r\nimport DetailsImages from '../components/Details/DetailsImages';\r\nimport DetailsRecomendation from '../components/Details/DetailsRecomendation';\r\nimport DetailsPerson from '../components/Details/DetailsPerson';\r\nimport AnimatedPage from '../components/AnimatedPage';\r\nimport DetailsCredits from '../components/Details/DetailsCredits';\r\nconst cookie = new Cookie();\r\nconst DetailsPage = ({ match, details, setData, setTypeActionCreator, setLists, accoundId, lists, accessToken, setAllListsDetails, allListsDeails, addToList, cleanAllListsDetailsAc, setBodyOverflow, type }) => {\r\n\tconst history = useNavigate()\r\n\tconst params = useParams()\r\n\tconst location = useLocation()\r\n\t// console.log(history)\r\n\tconst textEnding = (num) => {\r\n\t\tif (num % 10 >= 2 && num % 10 <= 4) {\r\n\t\t\treturn 'а'\r\n\t\t} else if ((num % 10 >= 5 && num % 10 <= 9) || (num % 10 === 0 && num !== 1)) {\r\n\t\t\treturn 'ов'\r\n\t\t} else {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t}\r\n\tconst [toSlide, setToSlide] = useState(false)\r\n\tconst setDataHandler = (id, type, scolltoTop=false)=>{\r\n\t\tsetData(id, type)\r\n\t\tsetTypeActionCreator(type)\r\n\t\tif(scolltoTop){\r\n\t\t\tdocument.querySelector('.details').scrollIntoView({ \r\n\t\t\t// behavior: 'smooth', \r\n\t\t\tblock: 'start' })\r\n\t\t\tsetToSlide(true)\r\n\t\t}\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tsetDataHandler(params.titleId, params.titleType)\r\n\t}, [])\r\n\tconst getAllListDetailsHandler = () => {\r\n\t\t// cleanAllListsDetailsAc()\r\n\t\tlists && lists.length > 0 && lists.forEach(list => {\r\n\t\t\tif ((allListsDeails.length < 1) || (!allListsDeails.some(l => l.id === list.id))) {\r\n\t\t\t\t\r\n\t\t\t\tsetAllListsDetails(list.id)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif (details) {\r\n\t\t\tdocument.title = details.name ?? details.title\r\n\t\t}\r\n\t}, [details])\r\n\tuseEffect(() => {\r\n\t\tif (accessToken) {\r\n\t\t\tgetAllListDetailsHandler()\r\n\t\t}\r\n\t}, [lists])\r\n\tuseEffect(() => {\r\n\t\tif (accessToken) {\r\n\t\t\tsetLists(accoundId)\r\n\t\t}\r\n\t}, [accoundId])\r\n\tconst addToListRef = useRef(null)\r\n\tconst  addToListHandler = async (e, id) => {\r\n\t\t// debugger\r\n\t\t// console.log(instanceV4.defaults.headers['Authorization'])   \r\n\t\t// if (instanceV4.defaults.headers['Authorization'] !== `Bearer ${cookie.get('access_token')}`) {\r\n\t\t// \tinstanceV4.defaults.headers['Authorization'] = `Bearer ${cookie.get('access_token')}`;\r\n\t\t// }\t\r\n\t\t// cleanAllListsDetailsAc()\r\n\t\taddToList(id, params.titleType, details.id, accoundId);\r\n\t\tsetTimeout(function(){\r\n\t\t\t// getAllListDetailsHandler()\r\n\t\t\t// setLists(accoundId)\r\n\t\t\t// console.log('sds223')\r\n\t\t}, 2000)\r\n\t}\r\n\tconst showListsHandler = (e) => {\r\n\t\tif (!addToListRef.current.classList.contains('is-active')) {\r\n\t\t\taddToListRef.current.classList.add('is-active')\r\n\t\t} else if (!e.target.classList.contains('is-ex')) {\r\n\t\t\taddToListRef.current.classList.remove('is-active')\r\n\t\t}\r\n\t}\r\n\tconst goBackHandler = () => {\r\n\t\thistory.goBack()\r\n\t}\r\n\tconst setModalActive = ()=>{\r\n\t\tconst modal = document.querySelector(`#modal__${details.id}`)\r\n\t\tmodal.classList.toggle('active')\r\n\t\tsetBodyOverflow(true)\r\n\t\tif(details.videos.results.length>0){\r\n\t\t\tmodal.querySelector('iframe').setAttribute('src', `https://www.youtube.com/embed/${details.videos.results[details.videos.results.length-1].key}`)\r\n\t\t\tmodal.querySelector('iframe').setAttribute('title', details.videos.results[details.videos.results.length-1].name)\r\n\t\t}\t\r\n\t}\r\n\tconst setImageModalActive = ()=>{\r\n\t\tconst modal = document.querySelector(`#modal-image`)\r\n\t\tmodal.classList.toggle('active')\r\n\t\tsetBodyOverflow(true)\t\r\n\t}\r\n\tconst [locationKeys, setLocationKeys] = useState([])\r\n\t// // Обработка нажатий кнопок вперед и назад в браузере\r\n\t// useEffect(() => {\r\n\t// \treturn history.listen(location => {\r\n\t// \t\tif (history.action === 'PUSH') {\r\n\t// \t\t\tsetLocationKeys([location.key])\r\n\t// \t\t}\r\n\t// \t\tif (history.action === 'POP') {\r\n\t// \t\t\tif (locationKeys[1] === location.key) {\r\n\t// \t\t\t\tsetLocationKeys(([_, ...keys]) => keys)\r\n\t// \t\t\t\t// Handle forward event\t\t\t\t\t\r\n\t// \t\t\t\tif(location.pathname.indexOf('title')===1){\r\n\t// \t\t\t\t\tlocation.pathname && location.pathname.indexOf('title') && setDataHandler(location.pathname.split('/title/')[1].split('/')[1], location.pathname.split('/title/')[1].split('/')[0], true)\r\n\t// \t\t\t\t}\r\n\t// \t\t\t} else {\r\n\t// \t\t\t\tsetLocationKeys((keys) => [location.key, ...keys])\r\n\t// \t\t\t\t// Handle back event\t\r\n\t// \t\t\t\tif(location.pathname.indexOf('title')===1){\r\n\t// \t\t\t\t\tlocation.pathname && location.pathname.indexOf('title') && setDataHandler(location.pathname.split('/title/')[1].split('/')[1], location.pathname.split('/title/')[1].split('/')[0], true)\r\n\t// \t\t\t\t}\t\t\t\t\t\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t})\r\n\t// }, [locationKeys, location.pathname])\r\n\treturn (\r\n\t\tdetails !== null &&\r\n\t\t<AnimatedPage>\r\n\t\t\t<section className=\"details\" id={`detais-${details.id}`}>\r\n\t\t\t\t{type!=='person'?\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<DetailsHead type={type} match={match} details={details} setData={setData} setTypeActionCreator={setTypeActionCreator} setLists={setLists} accoundId={accoundId} lists={lists} accessToken={accessToken} getAllListDetailsHandler={getAllListDetailsHandler} allListsDeails={allListsDeails} addToList={addToList} addToListHandler={addToListHandler} ref={addToListRef} textEnding={textEnding} showListsHandler={showListsHandler} goBackHandler={goBackHandler} setModalActive={setModalActive} />\r\n\t\t\t\t\t\t<DetailsImages images={details.images.backdrops} setModalActive={setImageModalActive} toSlide={toSlide} setToSlide={setToSlide}/>\r\n\t\t\t\t\t\t<DetailsRecomendation details={details} setDataHandler={setDataHandler} toSlide={toSlide} setToSlide={setToSlide}/>\r\n\t\t\t\t\t</>:\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<DetailsPerson details={details} />\r\n\t\t\t\t\t\t<DetailsImages images={details.images.profiles} className=\"small\" setModalActive={setImageModalActive} toSlide={toSlide} setToSlide={setToSlide}/>\r\n\t\t\t\t\t\t<DetailsCredits details={details} setDataHandler={setDataHandler} toSlide={toSlide} setToSlide={setToSlide}/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t</section>\r\n\t\t</AnimatedPage>\r\n\t);\r\n};\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdetails: state.details.data,\r\n\t\ttype: state.details.titleType,\r\n\t\taccessToken: state.auth.accessToken,\r\n\t\taccoundId: state.auth.accountId,\r\n\t\tlists: state.lists.lists,\r\n\t\tallListsDeails: state.lists.allListsDeails\r\n\t}\r\n}\r\nexport default compose(\r\n\tconnect(mapStateToProps, { setData, setTypeActionCreator, setLists, setAllListsDetails, addToList, cleanAllListsDetailsAc, setBodyOverflow })\r\n)(DetailsPage)"],"sourceRoot":""}