{"version":3,"sources":["redux/auth-reducer.js","redux/search-reducer.js","global/config.js","redux/details-reducer.js","redux/discover-reducer.js","redux/lists-reducer.js","redux/app-reducer.js","components/Preloader.js","api/api.js","img/svg-logo.svg","img/logo-m.png","img/svg-search.svg","components/Search/Search.js","components/Search/SearchContainer.js","components/Nav.js","components/Sidebar.js","components/Header.js","components/Footer.js","App.js","redux/store.js","index.js"],"names":["SET_AUTH","SET_LOGIN","SET_TOKEN","SET_ACCESS_TOKEN","SET_SESSION_ID","cookie","Cookie","initialState","login","password","token","loginData","tokenV4","accessToken","accountId","sessionId","setLoginData","data","type","setTokenV4Ac","setSessionIdAc","setAccessTokenAc","id","setAuth","querry","dispatch","get","authAPI","getSessionId","then","sessionData","session_id","getLogin","authAPIv4","getToken","data1","min","Date","now","set","request_token","expires","path","window","location","replace","setToken","getAccessToken","access_token","account_id","day","secure","instanceV4","defaults","headers","logOut","process","remove","authReducer","state","action","SEARCH_R","SEARCH_TEXT","CURRENT_PAGE","searchData","searchText","totalPages","page","setSearchTextActionCreator","text","searchActionCreator","result","total","setPageActionCreator","setSearchResults","mo","searchAPI","getSearchResult","tv","Promise","all","total_pages","movieArray","results","map","item","tvArray","array","searchReducer","middleImgPath","smallImgPath","originalImgPath","unavailable","loginAvatar","dateConvert","date","substr","year","mounth","toElementScroll","smooth","document","querySelector","scrollIntoView","behavior","block","SET_DATA","SET_TYPE","titleType","setTypeActionCreator","setData","detailsAPI","getDetails","setDataACtionCreator","detailsReducer","SET_MOVIES_DATA","SET_TV_DATA","CURRENT_MOVIES_PAGE","CURRENT_TV_PAGE","moviesData","tvData","moviesPage","tvPage","setMoviesPageActionCreator","setTvPageActionCreator","setDiscoverData","discoverAPI","getDiscoverData","setMoviesDataACtionCreator","setTvDataActionCreator","SET_LISTS","SET_LIST_DETAILS","SET_ALL_LISTS_DETAILS","CLEAN_ALL_LISTS_DETAILS","lists","listPage","listDetails","allListsDeails","cleanAllListsDetailsAc","setLists","accoundId","a","myListsAPI","getLists","setListDetails","listId","getListDetails","setListDetailsActionCreator","setAllListsDetails","setAllListsDetailsActionCreator","addToList","mediaType","mediaId","getState","listsReducer","SET_INITIAL_STATE","SET_BODY_OVERFLOW","bodyOverflow","setBodyOverflow","appReducer","Preloader","props","className","api_key","instance","axios","baseURL","api","params","withCredentials","Accept","undefined","post","response","getAuth","getSession","Search","setSearchText","searchShow","searchShowHandler","history","useHistory","useForm","register","handleSubmit","watch","formState","errors","onClick","src","searhIcon","alt","onSubmit","search","push","width","height","viewBox","focusable","fill","d","name","required","htmlFor","compose","connect","auth","withRouter","menuActiveHandler","menuActive","to","logo","logoMoblie","avatar","gravatar","hash","username","Sidebar","React","forwardRef","sidebarRef","ref","exact","href","genresData","_id","genreName","filmName","headerImg","position","top","bottom","class","Header","genreWidth","length","useState","genreData","setGenreData","genreActiveData","setGenreActiveData","genresWidth","setGenresWidth","genreRef","useRef","current","useEffect","onHLeaveHandler","e","el","q","gsap","utils","selector","sideBarSelector","timeline","paused","menuTl","stagger","yoyo","duration","ease","from","opacity","totalWidth","childNodes","forEach","console","log","getBoundingClientRect","reverse","slidesPerView","navigation","style","marginRight","genre","onMouseEnter","target","dataset","onHoverHandler","onMouseLeave","onActiveHandler","left","Footer","SearchPage","lazy","DetailsPage","MoviePage","TvPage","PermissionPage","ListsPage","ListPage","useLocation","setMenuActive","setSearchShow","pathname","title","match","overflow","prev","Suspense","fallback","render","reducers","combineReducers","details","discover","discoverReducer","app","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","basename","getElementById"],"mappings":"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","file":"static/js/main.7fe53ec0.chunk.js","sourcesContent":["import {authAPI, authAPIv4, instanceV4 } from \"../api/api\"\r\nimport Cookie from 'universal-cookie';\r\n\r\nconst SET_AUTH = 'SET_AUTH'\r\nconst SET_LOGIN = 'SET_LOGIN'\r\nconst SET_TOKEN = 'SET_TOKEN'\r\nconst SET_ACCESS_TOKEN = 'SET_ACCESS_TOKEN'\r\nconst SET_SESSION_ID = 'SET_SESSION_ID'\r\n// const SEARCH_TEXT = 'SEARCH_TEXT'\r\nconst cookie = new Cookie();\r\nconst initialState = {\r\n\tlogin: null,\r\n\tpassword: null,\r\n    token: null,\r\n\tloginData: null,\r\n\ttokenV4: null,\r\n\taccessToken: null,\r\n\taccountId: null, \r\n\tsessionId: null, \r\n}\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_AUTH:\r\n\t\t\treturn { ...state, login: action.login, password: action.password, token: action.token }\r\n\t\tcase SET_LOGIN:\r\n\t\t\treturn { ...state, loginData: action.data }\r\n\t\tcase SET_TOKEN:\r\n\t\t\treturn { ...state, tokenV4: action.token }\r\n\t\tcase SET_ACCESS_TOKEN:\r\n\t\t\treturn { ...state, accessToken: action.token,  accountId: action.id}\r\n\t\tcase SET_SESSION_ID:\r\n\t\t\treturn { ...state, sessionId: action.sessionId }\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\nexport const setAuthActionCreator = (login, password, token) => {\r\n\treturn {\r\n\t\ttype: SET_AUTH,\r\n\t\tlogin,\r\n        password,\r\n        token\r\n\t}\r\n}\r\nexport const setLoginData = (data) => {\r\n\treturn {\r\n\t\ttype: SET_LOGIN,\r\n\t\tdata,\r\n\t}\r\n}\r\nexport const setTokenV4Ac = (token) => {\r\n\treturn {\r\n\t\ttype: SET_TOKEN,\r\n\t\ttoken,\r\n\t}\r\n}\r\nexport const setSessionIdAc = (sessionId) => {\r\n\treturn {\r\n\t\ttype: SET_SESSION_ID,\r\n\t\tsessionId,\r\n\t}\r\n}\r\nexport const setAccessTokenAc = (token, id) => {\r\n\treturn {\r\n\t\ttype: SET_ACCESS_TOKEN,\r\n\t\ttoken,\r\n\t\tid\r\n\t}\r\n}\r\nexport const setAuth = (querry) => {\r\n\treturn (dispatch) => {\r\n\t\t// \tauthAPI.getToken().then(data1 => {\t\t\t\t\r\n\t\t// \t\tauthAPI.getAuth('straksi', 'Myn1995', data1.data.request_token).then(data2=>{\t\t\t\t\t\r\n\t\t// \t\t\tauthAPI.getSession(data2.request_token).then(data3=>{\r\n\t\t// \t\t\t\t// console.log(data3.data.session_id)\r\n\t\t// \t\t\t\tauthAPI.getLogin(data3.data.session_id).then(data4=>{\r\n\t\t// \t\t\t\t\tdispatch(setLoginData(data4.data))\r\n\t\t// \t\t\t\t})\r\n\t\t// \t\t\t})\r\n\t\t// \t\t})\r\n\t\t// })\r\n\t\t// if(cookie.get('access_token') && cookie.get('account_id')){\r\n\t\t// \tdispatch(setAccessTokenAc(cookie.get('access_token'), cookie.get('account_id') )\r\n\t\t// }\r\n\t\tif(cookie.get('access_token') && cookie.get('account_id')){\r\n\t\t\tdispatch( setAccessTokenAc(cookie.get('access_token'), cookie.get('account_id') ) )\r\n\t\t\tauthAPI.getSessionId(cookie.get('access_token')).then(sessionData=>{\t\r\n\t\t\t\tdispatch(setSessionIdAc(sessionData.data.session_id))\r\n\t\t\t\tauthAPI.getLogin(sessionData.data.session_id).then(loginData=>{\r\n\t\t\t\t\tdispatch(setLoginData(loginData.data))\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tauthAPIv4.getToken().then(data1 => {\r\n\t\t\t\tconst min =  new Date(Date.now()+ (1000*60*10))\r\n\t\t\t\tcookie.set('request_token', data1.request_token,{expires: min, path: '/' })\r\n\t\t\t\tif(cookie.get('request_token')){\r\n\t\t\t\t\twindow.location.replace('https://www.themoviedb.org/auth/access?request_token=' + data1.request_token )\r\n\t\t\t\t\t// window.open('https://www.themoviedb.org/auth/access?request_token=' + data1.request_token )\r\n\t\t\t\t\tdispatch(setTokenV4Ac(data1.request_token))\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t}\t\r\n\t}\r\n}\r\nexport const setToken = (token) => {\r\n\treturn (dispatch) => {\t\t\r\n\t\t// console.log(token)\r\n\t\tauthAPIv4.getAccessToken(token).then(data=>{\r\n\t\t\tdispatch(setAccessTokenAc(data.access_token, data.account_id))\r\n\t\t\tconst day =  new Date(Date.now()+ (1000*60*60*24))\r\n\t\t\tcookie.set('access_token', data.access_token,{expires: day, secure: true,  path: '/' })\r\n\t\t\tcookie.set('account_id', data.account_id,{expires: day, secure: true, path: '/' })\r\n\t\t\tauthAPI.getSessionId(data.access_token).then(sessionData=>{\t\r\n\t\t\t\tdispatch(setSessionIdAc(sessionData.data.session_id))\r\n\t\t\t\tauthAPI.getLogin(sessionData.data.session_id).then(loginData=>{\r\n\t\t\t\t\tdispatch(setLoginData(loginData.data))\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\tif (instanceV4.defaults.headers['Authorization'] !== `Bearer ${cookie.get('access_token')}`) {\r\n\t\t\t\tinstanceV4.defaults.headers['Authorization'] = `Bearer ${cookie.get('access_token')}`;\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\nexport const logOut = (sessionId) => {\r\n\treturn (dispatch) => {\t\t\r\n\t\t// console.log(token)\r\n\t\tauthAPI.logOut(sessionId).then(sessionData=>{\r\n\t\t\tdispatch(setLoginData(null))\r\n\t\t\tdispatch(setTokenV4Ac(null))\r\n\t\t\tdispatch(setAccessTokenAc(null, null))\r\n\t\t\tif (instanceV4.defaults.headers['Authorization'] === `Bearer ${cookie.get('access_token')}`) {\r\n\t\t\t\tinstanceV4.defaults.headers['Authorization'] = `Bearer ${process.env.REACT_APP_API_KEY_V4}`\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif(cookie.get('access_token')){\r\n\t\t\t\tcookie.remove('access_token', { path: '/' })\r\n\t\t\t}\r\n\t\t\tif(cookie.get('account_id')){\r\n\t\t\t\tcookie.remove('account_id', { path: '/' })\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\nexport default authReducer","import { searchAPI } from \"../api/api\"\r\n\r\nconst SEARCH_R = 'SEARCH_R'\r\nconst SEARCH_TEXT = 'SEARCH_TEXT'\r\nconst CURRENT_PAGE = 'CURRENT_PAGE'\r\n\r\nconst initialState = {\r\n\tsearchData: [],\r\n\tsearchText: null,\r\n\ttotalPages: 0,\r\n\tpage: 1,\r\n}\r\nconst searchReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SEARCH_TEXT:\r\n\t\t\treturn { ...state, searchText: action.text }\r\n\t\tcase SEARCH_R:\r\n\t\t\treturn { ...state, searchData: action.result, totalPages: action.total }\r\n\t\tcase CURRENT_PAGE:\r\n\t\t\treturn { ...state, page: action.page }\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\nexport const setSearchTextActionCreator = (text) => {\r\n\treturn {\r\n\t\ttype: SEARCH_TEXT,\r\n\t\ttext\r\n\t}\r\n}\r\nexport const searchActionCreator = (result, total) => {\r\n\treturn {\r\n\t\ttype: SEARCH_R,\r\n\t\tresult,\r\n\t\ttotal\r\n\t}\r\n}\r\nexport const setPageActionCreator = (page) => {\r\n\treturn {\r\n\t\ttype: CURRENT_PAGE,\r\n\t\tpage,\r\n\t}\r\n}\r\n// ThunkCreators\r\n// const searchMovieData = (querry) => async (dispatch) => {\r\n// \tsearchAPI.getSearchResult(querry, 'movie').then(data1 => {\r\n// \t\tdispatch(searchMovieActionCreator(data1.results))\r\n// \t})\r\n// }\r\n// const searchTveData = (querry) => async (dispatch) => {\r\n// \tsearchAPI.getSearchResult(querry, 'tv').then(data2 => {\r\n// \t\tdispatch(searchTvActionCreator(data2.results))\r\n// \t})\r\n// }\r\nexport const setSearchResults = (querry, page=1) => {\r\n\treturn (dispatch) => {\r\n\t\tconst mo = searchAPI.getSearchResult(querry, page, 'movie')\r\n\t\tconst tv = searchAPI.getSearchResult(querry, page, 'tv')\r\n\t\t// searchAPI.getSearchResult(querry, 'movie').then(data1 => {\r\n\t\t// \tdispatch(searchMovieActionCreator(data1.results))\r\n\t\t// }).then(searchAPI.getSearchResult(querry, 'tv').then(data2 => {\r\n\t\t// \tdispatch(searchTvActionCreator(data2.results))\r\n\t\t// })).then(dispatch(searchActionCreator))\r\n\t\tPromise.all([mo, tv]).then((data)=>{\r\n\t\t\t// console.log(data[0], data[1])\r\n\t\t\tlet total = 0;\r\n\t\t\tif(data[0].total_pages>data[1].total_pages){\r\n\t\t\t\ttotal = data[0].total_pages \r\n\t\t\t}else{\r\n\t\t\t\ttotal = data[1].total_pages \r\n\t\t\t}\t\t\r\n\t\t\tconst movieArray = data[0].results.map(item=>{ return {...item, type: 'movie'}})\r\n\t\t\tconst tvArray = data[1].results.map(item=>{ return {...item, type: 'tv'}})\r\n\t\t\tconst array = [...movieArray, ...tvArray]\r\n\t\t\t\tdispatch(searchActionCreator(array, total))\r\n\t\t\t\t// console.log(array2)\r\n\t\t\t})\t\t\r\n\t}\r\n\t// return (dispatch) => {\r\n\t// \tconst movies = dispatch(searchMovieData(querry))\r\n\t// \tconst tv = dispatch(searchTveData(querry))\r\n\t// \tPromise.all([movies, tv]).then(()=>{\r\n\t// \t\tdispatch(searchActionCreator())\r\n\t// \t})\r\n\t// }\r\n}\r\n\r\nexport default searchReducer","export const middleImgPath = 'https://image.tmdb.org/t/p/w500'\r\nexport const smallImgPath = 'https://image.tmdb.org/t/p/w300'\r\nexport const originalImgPath = 'https://image.tmdb.org/t/p/original'\r\nexport const unavailable = \"https://www.movienewz.com/img/films/poster-holder.jpg\";\r\nexport const loginAvatar = 'https://secure.gravatar.com/avatar/'\r\nexport const dateConvert = (date)=>{\r\n\tlet day = date.substr(-2)\r\n\tif(day.substr(0,1)==='0'){\r\n\t\tday = day.substr(1,2)\r\n\t}\r\n\tconst year = date.substr(0,4)\r\n\tconst mounth = date.substr(5,2)\r\n\tfunction mounthToWord(){\r\n\t\tswitch (mounth) {\r\n\t\t\tcase '1':\r\n\t\t\t\treturn 'января'\t\r\n\t\t\tcase '2':\r\n\t\t\t\treturn 'февраля'\r\n\t\t\tcase '3':\r\n\t\t\t\treturn 'марта'\t\r\n\t\t\tcase '4':\r\n\t\t\t\treturn 'апреля'\r\n\t\t\tcase '5':\r\n\t\t\t\treturn 'мая'\t\r\n\t\t\tcase '6':\r\n\t\t\t\treturn 'июня'\r\n\t\t\tcase '7':\r\n\t\t\t\treturn 'июля'\t\r\n\t\t\tcase '8':\r\n\t\t\t\treturn 'августа'\r\n\t\t\tcase '9':\r\n\t\t\t\treturn 'сентября'\t\r\n\t\t\tcase '10':\r\n\t\t\t\treturn 'октября'\r\n\t\t\tcase '11':\r\n\t\t\t\treturn 'ноября'\t\r\n\t\t\tcase '12':\r\n\t\t\t\treturn 'декабря'\r\n\t\t\tdefault:\r\n\t\t\t\treturn mounth;\r\n\t\t}\r\n\t} \r\n\treturn `${day}.${mounth}.${year}`\r\n}\r\nexport const toElementScroll = (smooth=false) =>{\r\n\tif(document.querySelector('section')){\r\n\t\tdocument.querySelector('section').scrollIntoView({ \r\n\t\t\tbehavior: smooth?'smooth': 'auto', \r\n\t\t\tblock: 'start' \r\n\t\t})\r\n\t}\r\n\t\r\n}","import {detailsAPI } from \"../api/api\"\r\n\r\nconst SET_DATA = 'SET_DATA'\r\nconst SET_TYPE = 'SET_TYPE'\r\n\r\nconst initialState = {\r\n\tdata: null,\r\n    titleType: null,\r\n}\r\nconst detailsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_DATA:\r\n\t\t\treturn { ...state, data: action.data }\r\n        case SET_TYPE:\r\n            return { ...state, titleType: action.titleType }\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\nexport const setDataACtionCreator = (data) => {\r\n\treturn {\r\n\t\ttype: SET_DATA,\r\n\t\tdata,\r\n\t}\r\n}\r\nexport const setTypeActionCreator = (titleType) => {\r\n\treturn {\r\n\t\ttype: SET_TYPE,\r\n\t\ttitleType,\r\n\t}\r\n}\r\nexport const setData = (id, type) => {\r\n\treturn (dispatch) => {\r\n        detailsAPI.getDetails(id, type).then(data => {\r\n            dispatch(setDataACtionCreator(data))\r\n\t\t})\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default detailsReducer","import {discoverAPI } from \"../api/api\"\r\n\r\nconst SET_MOVIES_DATA = 'SET_MOVIES_DATA'\r\nconst SET_TV_DATA = 'SET_TV_DATA'\r\nconst CURRENT_MOVIES_PAGE = 'CURRENT_MOVIES_PAGE'\r\nconst CURRENT_TV_PAGE = 'CURRENT_TV_PAGE'\r\n\r\nconst initialState = {\r\n\tmoviesData: null,\r\n    tvData: null,\r\n    moviesPage: 1,\r\n\ttvPage: 1,\r\n}\r\nconst detailsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_MOVIES_DATA:\r\n\t\t\treturn { ...state, moviesData: {...action.data, total_pages: action.data.total_pages>500?500:action.data.total_pages} }\r\n        case SET_TV_DATA:\r\n            return { ...state, tvData: {...action.data, total_pages: action.data.total_pages>500?500:action.data.total_pages} }\r\n        case CURRENT_MOVIES_PAGE:\r\n            return { ...state, moviesPage: action.page }\r\n        case CURRENT_TV_PAGE:\r\n            return { ...state, tvPage: action.page }\r\n        default:\r\n            return state;\r\n\t}\r\n}\r\nexport const setMoviesDataACtionCreator = (data) => {\r\n\treturn {\r\n\t\ttype: SET_MOVIES_DATA,\r\n\t\tdata,\r\n\t}\r\n}\r\nexport const setTvDataActionCreator = (data) => {\r\n\treturn {\r\n\t\ttype: SET_TV_DATA,\r\n\t\tdata,\r\n\t}\r\n}\r\nexport const setMoviesPageActionCreator = (page) => {\r\n\treturn {\r\n\t\ttype: CURRENT_MOVIES_PAGE,\r\n\t\tpage,\r\n\t}\r\n}\r\nexport const setTvPageActionCreator = (page) => {\r\n\treturn {\r\n\t\ttype: CURRENT_TV_PAGE,\r\n\t\tpage,\r\n\t}\r\n}\r\nexport const setDiscoverData = (type, page) => {\r\n\treturn (dispatch) => {\r\n        discoverAPI.getDiscoverData(type, page).then(data => {\r\n            if(type==='movie'){\r\n                dispatch(setMoviesDataACtionCreator(data))\r\n            }else if(type==='tv'){\r\n                dispatch(setTvDataActionCreator(data))\r\n            }          \r\n\t\t})\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default detailsReducer","import {myListsAPI } from \"../api/api\"\r\n\r\nconst SET_LISTS = 'SET_LISTS'\r\nconst SET_LIST_DETAILS = 'SET_LIST_DETAILS'\r\nconst SET_ALL_LISTS_DETAILS = 'SET_ALL_LISTS_DETAILS'\r\nconst CLEAN_ALL_LISTS_DETAILS = 'CLEAN_ALL_LISTS_DETAILS'\r\n// const SEARCH_TEXT = 'SEARCH_TEXT'\r\n\r\nconst initialState = {\r\n\tlists: null,\r\n    listPage: 1,\r\n    listDetails: null,\r\n\tallListsDeails: []\r\n}\r\nconst listsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_LISTS:\r\n\t\t\treturn { ...state, lists: action.lists }\r\n        case SET_LIST_DETAILS:\r\n            return { ...state, listDetails: action.data }\r\n\t\tcase SET_ALL_LISTS_DETAILS:\r\n\t\t\treturn { ...state, allListsDeails: [ ...state.allListsDeails, {...action.data}] }\r\n\t\tcase CLEAN_ALL_LISTS_DETAILS:\r\n\t\t\treturn { ...state, allListsDeails: [] }\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\nexport const setListsActionCreator = (lists) => {\r\n\treturn {\r\n\t\ttype: SET_LISTS,\r\n\t\tlists\r\n\t}\r\n}\r\nexport const setListDetailsActionCreator = (data) => {\r\n\treturn {\r\n\t\ttype: SET_LIST_DETAILS,\r\n\t\tdata\r\n\t}\r\n}\r\nexport const setAllListsDetailsActionCreator = (data) => {\r\n\treturn {\r\n\t\ttype: SET_ALL_LISTS_DETAILS,\r\n\t\tdata\r\n\t}\r\n}\r\nexport const cleanAllListsDetailsAc = () => {\r\n\treturn {\r\n\t\ttype: CLEAN_ALL_LISTS_DETAILS,\r\n\t}\r\n}\r\nexport const setLists = (accoundId) => async (dispatch) => {\r\n\t// console.log(store.getState())\r\n\tmyListsAPI.getLists(accoundId).then(data => {\t\t\t\t\r\n\t\tdispatch(setListsActionCreator(data.results))\t\r\n\t})\t\t\r\n\t\r\n}\r\nexport const setListDetails = (listId) => {\r\n\treturn (dispatch) => {\r\n        myListsAPI.getListDetails(listId).then(data => {\t\t\t\t\r\n\t\t\tdispatch(setListDetailsActionCreator(data))\t\r\n\t\t})\t\t\r\n\t}\r\n}\r\nexport const setAllListsDetails = (listId) => {\r\n\treturn (dispatch) => {\r\n        myListsAPI.getListDetails(listId).then(data => {\t\t\t\t\r\n\t\t\tdispatch(setAllListsDetailsActionCreator(data))\t\r\n\t\t})\t\t\r\n\t}\r\n}\r\nexport const addToList = (listId, mediaType, mediaId, accoundId) => {\r\n\treturn (dispatch, getState) => {\r\n        myListsAPI.addToList(listId, mediaType, mediaId).then(()=>{\r\n\t\t\tdispatch(cleanAllListsDetailsAc())\r\n\t\t\tdispatch(setAllListsDetails(listId))\r\n\t\t\tdispatch(setLists(accoundId))\r\n\t\t})\r\n\t}\r\n}\r\nexport default listsReducer\r\n","// import { getUserAuthData } from \"./auth-reducer\";\r\n\r\nconst SET_INITIAL_STATE = 'SET_INITIAL_STATE';\r\nconst SET_BODY_OVERFLOW = 'SET_BODY_OVERFLOW';\r\n\r\nconst initialState = {\r\n\tinitialState: false,\r\n\tbodyOverflow: false,\r\n}\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_INITIAL_STATE:\r\n\t\t\treturn { ...state, initialState: true }\r\n\t\tcase SET_BODY_OVERFLOW:\r\n\t\t\treturn { ...state, bodyOverflow: action.bodyOverflow }\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\nexport const setInitialStateCreator = () => ({ type: SET_INITIAL_STATE })\r\nexport const setBodyOverflow = (bodyOverflow) => ({ type: SET_BODY_OVERFLOW, bodyOverflow })\r\n// ThunkCreators\r\n// export const setInitialState = () => {\r\n// \treturn (dispatch) => {\r\n// \t\tconst userDataPromise = dispatch(getUserAuthData())\r\n// \t\tPromise.all([userDataPromise]).then(()=>{\r\n// \t\t\tdispatch(setInitialStateCreator())\r\n// \t\t})\r\n// \t}\r\n// }\r\n\r\nexport default appReducer","import React from 'react';\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div className=\"preloader-wrap\">\r\n            <div className={`preloader ${props.className ?? ''} `}></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Preloader;","import * as axios from \"axios\"\r\nimport Cookie from 'universal-cookie';\r\nconst cookie = new Cookie();\r\nconst accessToken = cookie.get('access_token') ?? null\r\nconst api_key = process.env.REACT_APP_API_KEY;\r\nconst api_key_v4 = process.env.REACT_APP_API_KEY_V4;\r\nconst myURL = process.env.PUBLIC_URL\r\nconst instance = axios.create({\r\n    baseURL: 'https://api.themoviedb.org/3/',\r\n})\r\nconst api = axios.create({\r\n    baseURL: \"https://api.themoviedb.org/3/\",\r\n    params: {\r\n        api_key: api_key,\r\n        // language: \"ko-KR\"\r\n    }\r\n});\r\nexport const instanceV4 = axios.create({\r\n    baseURL: 'https://api.themoviedb.org/4/',\r\n    withCredentials: false,\r\n    headers:{\r\n        Accept: 'application/json, text/javascript, */*; q=0.0',\r\n        'Content-Type': 'application/json;charset=utf-8',\r\n        // 'X-Content-Type-Options': 'nosniff',\r\n        // 'Cache-Control': 'max-age=3600',\r\n        'Authorization': 'Bearer ' + (cookie.get('access_token')===undefined ? api_key_v4: cookie.get('access_token'))\r\n    }\r\n})\r\nexport const authAPIv4 = {\r\n    getToken(){\r\n        return instanceV4.post(`auth/request_token`,\r\n        {\r\n            // \"redirect_to\": \"http://localhost:3000\"\r\n            \"redirect_to\": \"http://localhost:3000/#/permission\",\r\n            // \"redirect_to\": 'https://d.wmproj.com/html/nfx/permission'\r\n        }).then(response=>response.data)\r\n    },\r\n    getAccessToken(token){\r\n        return instanceV4.post(`auth/access_token`,\r\n        {\r\n            \"request_token\": token\r\n        }).then(response=>response.data)\r\n    },\r\n}\r\nexport const myListsAPI = {\r\n    getLists(id){\r\n        return instanceV4.get(`account/${id}/lists?page=1`,\r\n        ).then(response=>response.data)\r\n    },\r\n    getListDetails(id){\r\n        return instanceV4.get(`list/${id}?page=1&language=ru-RU`,\r\n        ).then(response=>response.data)\r\n    },\r\n    addToList(listId, mediaType, mediaId){\r\n        // if(cookie.get('access_token')){\r\n        //     instanceV4.defaults.headers['Authorization'] = `Bearer ${cookie.get('access_token')}`;\r\n        // }       \r\n        // console.log(instanceV4.defaults)\r\n        return instanceV4.post(`list/${listId}/items`,\r\n        {\r\n            \"items\": [\r\n              {\r\n                \"media_type\": mediaType,\r\n                \"media_id\": mediaId\r\n              }\r\n            ]\r\n          }\r\n        )\r\n    },\r\n}\r\nexport const authAPI = {\r\n    getToken(){\r\n        return instance.get(`authentication/token/new?api_key=${api_key}`)\r\n    },\r\n    getAuth(login=\"straksi\", password=\"Myn1995\", token=\"203427acd07c4063d0b88303bc7b204274f6017b\" ){\r\n        return instance.post(`authentication/token/validate_with_login?api_key=${api_key}`,\r\n        {'username': login,\r\n        \"password\": password,\r\n        \"request_token\": token   \r\n        }\r\n        ).then(response=>response.data)\r\n    },\r\n    getSession(token){\r\n        return instance.post(`authentication/session/new?api_key=${api_key}`,\r\n        {\r\n        \"request_token\": token   \r\n        }\r\n        ).then(response=>response)\r\n    },\r\n    getLogin(id){\r\n        return instance.get(`account?api_key=${api_key}&session_id=${id}`,\r\n\r\n        ).then(response=>response)\r\n    },\r\n    getSessionId(token){\r\n        return instance.post(`authentication/session/convert/4?api_key=${api_key}`,\r\n        {\r\n            \"access_token\": token\r\n        }\r\n        ).then(response=>response)\r\n    },\r\n    // logOut(sessionId){\r\n    //     return instance.delete(`authentication/session/?api_key=${api_key}`,\r\n    //     {\r\n    //         \"session_id\": sessionId\r\n    //     },\r\n    //     ).then(response=>response)\r\n    // },\r\n    logOut: (sessionId) => api.delete(`authentication/session`, {data: {session_id: sessionId}}),\r\n}\r\nexport const trendingAPI = {\r\n    getTrendings(){\r\n        return instance.get(`trending/all/week`).then(response=>response.data)\r\n    },\r\n    getNetflix(){\r\n        return instance.get(`discover/tv&with_networks=123`).then(response=>response.data)\r\n    },\r\n}\r\nexport const searchAPI = {\r\n    getSearchResult(querry, page=1, type){\r\n        return instance.get(`search/${type}?api_key=${api_key}&language=ru-RU&query=${querry}}&page=${page}&include_adult=false`).then(response=>response.data)\r\n    }\r\n}\r\nexport const detailsAPI = {\r\n    getDetails(id, type='tv'){\r\n        if(type === 'tv'){\r\n            return instance.get(`${type}/${id}?api_key=${api_key}&language=ru-RU&append_to_response=content_ratings,credits,recommendations,videos,images&include_image_language=en%2Cnull`).then(response=>response.data)\r\n        }else if(type ==='movie'){\r\n            return instance.get(`${type}/${id}?api_key=${api_key}&language=ru-RU&append_to_response=releases,credits,recommendations,videos,images&include_image_language=en%2Cnull`).then(response=>response.data)\r\n        }\r\n       \r\n    }\r\n}\r\nexport const discoverAPI = {\r\n    getDiscoverData(type, page=1){\r\n        return instance.get(`discover/${type}?api_key=${api_key}&language=ru-RU&sort_by=popularity.desc&include_adult=false&include_video=false&page=${page}&with_watch_monetization_types=flatrate`).then(response=>response.data)\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/svg-logo.5787551b.svg\";","export default __webpack_public_path__ + \"static/media/logo-m.55def236.png\";","export default __webpack_public_path__ + \"static/media/svg-search.966694b3.svg\";","import React from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { toElementScroll } from '../../global/config';\r\nimport searhIcon from '../../img/svg-search.svg'\r\nconst Search = ({setSearchResults, setSearchText, searchText, searchShow, searchShowHandler}) => {\r\n\tconst history = useHistory()\r\n\tconst { register, handleSubmit, watch, formState: { errors } } = useForm();\r\n\t// debugger\r\n\tconst onSubmit = data => {\r\n\t\tif(data.search!==''){\r\n\t\t\tsetSearchResults(data.search);\r\n\t\t\tsetSearchText(data.search)\r\n\t\t\thistory.push(`/search?s=${data.search}`)\r\n\t\t\t// console.log('sd')\r\n\t\t\t// document.querySelector('section').scrollIntoView({ \r\n\t\t\t// \tbehavior: 'smooth', \r\n\t\t\t// \tblock: 'start' \r\n\t\t\t// })\r\n\t\t\ttoElementScroll(true)\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"nav-search\">\r\n\t\t\t<div className=\"nav-search__show\" onClick={searchShowHandler}><img src={searhIcon} alt=\"\" /></div>\r\n\t\t\t<form className={`form ${searchShow ? 'is-show': ''}` } onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<div className=\"nav-search__close\" onClick={searchShowHandler}>\r\n\t\t\t\t\t<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" focusable=\"true\" fill=\"white\"><path d=\"M10.5 9.3L1.8 0.5 0.5 1.8 9.3 10.5 0.5 19.3 1.8 20.5 10.5 11.8 19.3 20.5 20.5 19.3 11.8 10.5 20.5 1.8 19.3 0.5 10.5 9.3Z\"></path></svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* register your input into the hook by invoking the \"register\" function */}\r\n\t\t\t\t<div className=\"form__search\">\r\n\t\t\t\t\t<div className=\"form__group\">\r\n\t\t\t\t\t\t<input className=\"form__input\" name=\"search\" id=\"search\" required {...register(\"search\") }\r\n\t\t\t\t\t\t\t// onKeyUp={handleSubmit(onSubmit)}                       \r\n\t\t\t\t\t\t />\r\n\t\t\t\t\t\t <label htmlFor=\"search\" className=\"form__label\">Search</label>\r\n\t\t\t\t\t\t<span className=\"form__border\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button type=\"submit\"><img src={searhIcon} alt=\"\" /></button>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* {errors.exampleRequired && <span>This field is required</span>} */}\r\n\r\n\t\t\t\t\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Search;","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter,Redirect } from 'react-router';\r\nimport { compose } from 'redux';\r\nimport { setSearchResults, setSearchTextActionCreator} from \"../../redux/search-reducer\";\r\nimport { setAuth} from \"../../redux/auth-reducer\";\r\nimport Search from './Search';\r\n// debugger\r\n\r\nconst SearchContainer = (props) => {\r\n\r\n    return (\r\n        <Search setSearchResults={props.setSearchResults} setSearchText={props.setSearchTextActionCreator} searchText={props.search.searchText} searchShowHandler={props.searchShowHandler} searchShow={props.searchShow}/>\r\n        // <button  onClick={()=>props.setSearchResults('spider')}>sdasd</button>\r\n    );\r\n};\r\nconst mapStateToProps = (state)=>{\r\n    return{\r\n        search: state.search,\r\n        login: state.auth.loginData,\r\n    }\r\n}\r\nexport default compose( \r\n    connect(mapStateToProps, {setSearchResults, setSearchTextActionCreator, setAuth}),\r\n    withRouter,\r\n)(SearchContainer)","import React, { useState, useEffect, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport logo from '../img/svg-logo.svg'\nimport logoMoblie from '../img/logo-m.png'\nimport SearchContainer from \"./Search/SearchContainer\";\nimport { setAuth, setToken, setTokenV4Ac, logOut } from \"../redux/auth-reducer\";\nimport { loginAvatar } from \"../global/config\";\nconst Nav = ({accessToken, loginData, setAuth, logOut, sessionId, menuActiveHandler, menuActive, searchShow, searchShowHandler}) => {\n\t// State of our Menu\n\treturn (\n\t\t<nav className=\"nav\">\n\t\t\t<div className=\"container-fluid\">\n\t\t\t\t<div className=\"nav-w\">\n\t\t\t\t\t<div className={`nav-burger ${menuActive ? 'is-close': ''}`} onClick={menuActiveHandler}>\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<SearchContainer searchShow={searchShow} searchShowHandler={searchShowHandler}/>\n\t\t\t\t\t<Link to=\"/\" className=\"nav-logo\">\n\t\t\t\t\t\t<img src={logo} alt=\"\" />\n\t\t\t\t\t\t<img className=\"nav-logo__mobile\" src={logoMoblie} alt=\"\" />\n\t\t\t\t\t</Link>\n\t\t\t\t\t<div className=\"nav-auth\">\n\t\t\t\t\t\t{ !loginData &&\n\t\t\t\t\t\t// <Link to='/permission' className=\"btn\">Sign In from tmdb</Link>\n\t\t\t\t\t\t\t<button className=\"btn\" onClick={setAuth}>Sign In from tmdb</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{(loginData ) &&\n\t\t\t\t\t\t\t<div className=\"nav-login\">\n\t\t\t\t\t\t\t\t<div className=\"nav-login__avatar\">\n\t\t\t\t\t\t\t\t\t<div>{ loginData.avatar.gravatar.hash && <img src={`${loginAvatar}${loginData.avatar.gravatar.hash}.png`} alt=\"\" />}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"nav-login__body\">\n\t\t\t\t\t\t\t\t\t<div className=\"nav-login__name\">{loginData.name || loginData.username}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"btn\" onClick={()=>logOut(sessionId)}>logOut</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t);\n};\nconst mapStateToProps = (state) => {\n    return {\n        accessToken: state.auth.accessToken,\n\t\tlogin: state.auth.login,\n\t\tloginData: state.auth.loginData,\n\t\tsessionId: state.auth.sessionId,\n    }\n}\nexport default compose(\n    connect(mapStateToProps, { setAuth, setToken, setTokenV4Ac, logOut }),\n)(Nav)\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Sidebar = React.forwardRef((props, sidebarRef) => {\r\n    return (\r\n        <ul className={`sidebar ${props.menuActive ? 'is-active': ''}`} ref={sidebarRef}>\r\n            <li><NavLink exact to=\"/\">home</NavLink></li>\r\n            <li><NavLink to=\"/tv\" >tv shows</NavLink></li>\r\n            <li><NavLink to=\"/movies\" >moveis</NavLink></li>\r\n            <li><a href=\"s\" >latest</a></li>\r\n            <li><NavLink to=\"/lists\" >my list</NavLink></li>   \r\n        </ul>\r\n    );\r\n});\r\n\r\nexport default Sidebar;","import React, { useEffect, useRef, useState } from 'react';\r\nimport Sidebar from './Sidebar';\r\nimport { gsap } from \"gsap\";\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport 'swiper/swiper-bundle.min.css'\r\nimport 'swiper/swiper.min.css'\r\nconst genresData = [\r\n\t{\r\n\t\t_id: '01',\r\n\t\tgenreName: 'Action & Adventure',\r\n\t\tfilmName: 'The 100',\r\n\t\theaderImg: `${process.env.PUBLIC_URL}/img/100.jpg`,\r\n\t\tposition: { top: '0px', bottom: '80px', class: 'is-top' }\r\n\t},\r\n\t{\r\n\t\t_id: '02',\r\n\t\tgenreName: 'Anime',\r\n\t\tfilmName: 'Castlevania',\r\n\t\theaderImg: `${process.env.PUBLIC_URL}/img/Castlevania.jpg`,\r\n\t\tposition: { top: '40px', bottom: '40px', class: 'is-middle' }\r\n\t},\r\n\t{\r\n\t\t_id: '03',\r\n\t\tgenreName: 'Thriller',\r\n\t\tfilmName: 'BreakingBad',\r\n\t\theaderImg: `${process.env.PUBLIC_URL}/img/BreakingBad.jpg`,\r\n\t\tposition: { top: '80px', bottom: '0px', class: 'is-bottom' }\r\n\t},\r\n\t{\r\n\t\t_id: '04',\r\n\t\tgenreName: 'Sci-Fi & Fantasy',\r\n\t\tfilmName: 'Interstellar',\r\n\t\theaderImg: `${process.env.PUBLIC_URL}/img/interstellar.jpg`,\r\n\t\tposition: { top: '40px', bottom: '40px', class: 'is-middle' }\r\n\t},\r\n\t{\r\n\t\t_id: '05',\r\n\t\tgenreName: 'Dramas',\r\n\t\tfilmName: 'peaky',\r\n\t\theaderImg: `${process.env.PUBLIC_URL}/img/peaky.jpg`,\r\n\t\tposition: { top: '0px', bottom: '80px', class: 'is-top' }\r\n\t},\r\n\t{\r\n\t\t_id: '06',\r\n\t\tgenreName: 'Crime',\r\n\t\tfilmName: 'Casa de papel',\r\n\t\theaderImg: `${process.env.PUBLIC_URL}/img/castle.jpg`,\r\n\t\tposition: { top: '80px', bottom: '0px', class: 'is-bottom' }\r\n\t},\r\n\t{\r\n\t\t_id: '07',\r\n\t\tgenreName: 'horror',\r\n\t\tfilmName: 'marianne',\r\n\t\theaderImg: `${process.env.PUBLIC_URL}/img/marianne.jpg`,\r\n\t\tposition: { top: '40px', bottom: '40px', class: 'is-middle' }\r\n\t},\r\n\t{\r\n\t\t_id: '08',\r\n\t\tgenreName: 'History',\r\n\t\tfilmName: 'Sparta',\r\n\t\theaderImg: `${process.env.PUBLIC_URL}/img/sparta.jpg`,\r\n\t\tposition: { top: '0px', bottom: '80px', class: 'is-top' }\r\n\t},\r\n]\r\nconst Header = ({menuActive}) => {\r\n\tconst genreWidth = `100%/${genresData.length}`\r\n\tconst genreWidthBox = `(100% - ${(genresData.length - 1) * 20}px)/${genresData.length}`\r\n\tconst hoverGenreWidth = `100%/(${genresData.length} - 2)`\r\n\tconst [genreData, setGenreData] = useState({ name: null, id: null })\r\n\tconst [genreActiveData, setGenreActiveData] = useState({ name: null, id: null })\r\n\tconst [genresWidth, setGenresWidth] = useState(0)\r\n\tconst genreRef = useRef([])\r\n\tgenreRef.current = []\r\n\tconst [content, setContent] = useState([])\r\n\tuseEffect(() => {\r\n\t\t// trendingAPI.getTrendings().then(data=>{\r\n\t\t// \tconsole.log(data)\r\n\t\t// })\r\n\t}, [])\r\n\r\n\tconst addToRefs = (el, id) => {\r\n\t\tif (el && !genreRef.current.includes(el)) {\r\n\t\t\tif (id >= genreData.id && id <= genresData.length && !el.classList.contains('is-active') && genreData.name !== null) {\r\n\t\t\t\tgenreRef.current.push(el)\r\n\t\t\t\tel.classList.add('is-small')\r\n\t\t\t} else {\r\n\t\t\t\tel.classList.remove('is-small')\r\n\t\t\t}\r\n\t\t\t// console.log(genreRef.current)\r\n\t\t}\r\n\t}\r\n\tconst onHoverHandler = (e, id) => {\r\n\t\tsetGenreData({ name: e.target.dataset.genre, id: id })\r\n\t\t// e.target.classList.add('is-hover')\r\n\t\t// console.log(e, id)\r\n\t}\r\n\tconst onActiveHandler = (e, id) => {\r\n\r\n\t\tif (genreData.id === id) {\r\n\t\t\tsetGenreActiveData({ name: e.target.dataset.genre, id: id })\r\n\t\t} else {\r\n\r\n\t\t}\r\n\t}\r\n\tconst onHLeaveHandler = (e) => {\r\n\t\t// console.log('убрал')\r\n\t\t// e.target.classList.remove('is-hover')\r\n\t\tsetGenreData({ name: null, id: null })\r\n\t}\r\n\t// GSAP Animation \r\n\tconst el = useRef();\r\n\tconst q = gsap.utils.selector(el);\r\n\tconst sidebarRef = useRef()\r\n\tconst sideBarSelector = gsap.utils.selector(sidebarRef);\r\n\tconst [menuTl] = useState(gsap.timeline({ paused: true }));\r\n\tconst animateHandle = () => {\r\n\t\tgsap.to(q(\".genre-box\"), {\r\n\t\t\theight: '100%',\r\n\t\t\tstagger: .15,\r\n\t\t\tyoyo: true,\r\n\t\t\tduration: 1,\r\n\t\t\tease: \"Power2.easeOut\",\r\n\t\t});\r\n\t\tgsap.from(q(\".genre p\"), {\r\n\t\t\topacity: 0,\r\n\t\t\tstagger: .25,\r\n\t\t\tyoyo: true,\r\n\t\t\tduration: .8,\r\n\t\t\t//   ease:\"Power2.easeOut\",\r\n\t\t});\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tanimateHandle()\r\n\t\t\r\n\t\tlet totalWidth = 0;\r\n\t\tel.current.childNodes[2].childNodes.forEach(item=>{\r\n\t\t\tconsole.log(item.getBoundingClientRect().width)\r\n\t\t\ttotalWidth = totalWidth + item.getBoundingClientRect().width\r\n\t\t})\r\n\t\tsetGenresWidth(totalWidth)\r\n\t\tmenuTl.to(sideBarSelector(\"li\"), {\r\n\t\t\topacity: 0,\r\n\t\t\tstagger: .1,\r\n\t\t\tduration: 0.6,\r\n\t\t\tease: \"Power2.easeOut\",\r\n\t\t})\r\n\t\t\t.reverse();\r\n\t\t// menuTl.reversed(!menuTl.reversed());\r\n\t}, []);\r\n\tconst toggleMenuTimeline = () => {\r\n\t\tmenuTl.reversed(!menuTl.reversed());\r\n\t};\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t{/* <button onClick={toggleMenuTimeline}>click</button> */}\r\n\t\t\t\t{/* <button onClick={onActiveHandler}>click</button> */}\r\n\t\t\t\t<div className=\"header-w\">\r\n\t\t\t\t\t<Sidebar menuActive={menuActive} ref={sidebarRef} />\r\n\t\t\t\t\t<div className=\"header-slider\">\r\n\t\t\t\t\t\t<Swiper\r\n\t\t\t\t\t\t\tslidesPerView={'auto'}\r\n\t\t\t\t\t\t\tnavigation\r\n\t\t\t\t\t\t\tclassName=\"genres\"\r\n\t\t\t\t\t\t\tstyle={{ marginRight: '-20px' }}\r\n\t\t\t\t\t\t\tref={el}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{genresData.map((genre, id) => {\r\n\t\t\t\t\t\t\t\treturn <SwiperSlide key={genre._id} className={'genre ' + genre.position.class + (id === genreActiveData.id ? ' is-active' : '') + (id === genreData.id ? ' is-hover' : '')} style={{ width: `calc(${genreWidth})` }} data-genre={genre.genreName}\r\n\t\t\t\t\t\t\t\t\tonMouseEnter={el => onHoverHandler(el, id)} onMouseLeave={onHLeaveHandler}\r\n\t\t\t\t\t\t\t\t\tonClick={(el => onActiveHandler(el, id))}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className=\"genre-box\">\r\n\t\t\t\t\t\t\t\t\t\t<img src={genre.headerImg} alt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ left: `calc(-${id}*${genresWidth / genresData.length}px )`, width: genresWidth }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<p>{genre.genreName}</p>\r\n\t\t\t\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Swiper>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer className=\"footer\" id=\"footer\">\r\n\t\t\t\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;","import React, { useEffect, useState } from \"react\";\nimport { Route, Switch, Redirect, withRouter, useLocation } from 'react-router-dom'\nimport Nav from \"./components/Nav\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport { connect } from 'react-redux';\nimport { setAuth } from \"./redux/auth-reducer\";\nimport './sass/style.sass';\nimport Cookie from 'universal-cookie';\nimport Preloader from \"./components/Preloader\";\nimport { compose } from \"redux\";\nconst cookie = new Cookie();\nconst SearchPage = React.lazy(() => import('./Pages/SearchPage'));\nconst DetailsPage = React.lazy(() => import('./Pages/DetailsPage'));\nconst MoviePage = React.lazy(() => import('./Pages/MoviePage'));\nconst TvPage = React.lazy(() => import('./Pages/TvPage'));\nconst PermissionPage = React.lazy(() => import('./Pages/PermissionPage'));\nconst ListsPage = React.lazy(() => import('./Pages/ListsPage'));\nconst ListPage = React.lazy(() => import('./Pages/ListPage'));\nfunction App(props) {\n\tconst location = useLocation()\n\tconst [menuActive, setMenuActive] = useState(false)\n\tconst [searchShow, setSearchShow] = useState(false)\n\tuseEffect(() => {\n\t\tif (cookie.get('access_token')) {\n\t\t\tprops.setAuth()\n\t\t}\n\t}, [])\n\tuseEffect(() => {\n\t\tif (props.location.pathname === '/') {\n\t\t\t// console.log('sdsd')\n\t\t\tdocument.title = 'Netflix'\n\t\t}\n\t}, [props.match])\n\tconst menuActiveHandler = () =>{\n\t\tsetMenuActive(prev=>!prev)\n\t}\n\tconst searchShowHandler = () =>{\n        setSearchShow(prev=>!prev)\n    }\n\tuseEffect(() => {\n\t\tif (menuActive) {\n\t\t\tdocument.querySelector('body').style.overflow = 'hidden'\n\t\t}else{\n\t\t\tdocument.querySelector('body').style.overflow = ''\n\t\t}\n\t}, [menuActive])\n\tuseEffect(() => {\n\t\tsetMenuActive(false)\n\t\tsetSearchShow(false)\n\t}, [location])\n\treturn (\n\t\t<>\n\t\t\t<Nav menuActiveHandler={menuActiveHandler} menuActive={menuActive} searchShow={searchShow} searchShowHandler={searchShowHandler}/>\n\t\t\t<Header menuActive={menuActive} />\n\t\t\t<main className=\"main\">\n\t\t\t\t<React.Suspense fallback={<Preloader />}>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path='/search' render={() =>\n\t\t\t\t\t\t\t(<SearchPage />)\n\t\t\t\t\t\t} />\n\t\t\t\t\t\t<Route exact path='/title/:titleType?/:titleId?' render={() =>\n\t\t\t\t\t\t\t(<DetailsPage />)\n\t\t\t\t\t\t} />\n\t\t\t\t\t\t<Route path='/movies' exact render={() =>\n\t\t\t\t\t\t\t(<MoviePage title=\"Фильмы\" />)\n\t\t\t\t\t\t} />\n\t\t\t\t\t\t<Route path='/tv' exact render={() =>\n\t\t\t\t\t\t\t(<TvPage />)\n\t\t\t\t\t\t} />\n\t\t\t\t\t\t<Route path='/lists' exact render={() =>\n\t\t\t\t\t\t\t(<ListsPage />)\n\t\t\t\t\t\t} />\n\t\t\t\t\t\t<Route path='/lists/:listId?' exact render={() =>\n\t\t\t\t\t\t\t(<ListPage />)\n\t\t\t\t\t\t} />\n\t\t\t\t\t\t<Route path='/permission' render={() =>\n\t\t\t\t\t\t\t(<PermissionPage />)\n\t\t\t\t\t\t} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</React.Suspense>\n\t\t\t</main>\n\t\t\t<Footer />\n\t\t</>\n\t);\n}\nconst mapStateToProps = (state) => {\n\treturn {\n\t\taccessToken: state.auth.accessToken,\n\t}\n}\nexport default compose(\n\tconnect(mapStateToProps, { setAuth }),\n\twithRouter,\n)(App)\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport appReducer from \"./app-reducer\";\r\nimport searchReducer from \"./search-reducer\";\r\nimport detailsReducer from \"./details-reducer\";\r\nimport discoverReducer from \"./discover-reducer\";\r\nimport listsReducer from \"./lists-reducer\";\r\n\r\nconst reducers = combineReducers({\r\n    search: searchReducer,\r\n    auth: authReducer,\r\n    details: detailsReducer,\r\n    discover: discoverReducer,\r\n    lists: listsReducer,\r\n    app: appReducer,\r\n})\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport {Provider} from 'react-redux'\nimport App from './App';\nimport store from './redux/store'\n\nReactDOM.render(\n    <Router basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <App />\n        </Provider>\n        \n    </Router>,\n    \ndocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}