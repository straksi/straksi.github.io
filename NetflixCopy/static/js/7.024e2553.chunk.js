(this["webpackJsonpreact-netflix"]=this["webpackJsonpreact-netflix"]||[]).push([[7],{101:function(e,t,s){"use strict";s(0);var a=s(19),i=s(33),n=s(1);t.a=function(e){var t=e.src,s=e.title,c=e.titleId,l=e.type,r=(e.setType,e.score),d=e.clickHandler;return Object(n.jsxs)(a.b,{to:"/title/".concat(l,"/").concat(c),className:"card",onClick:function(){d&&d(),Object(i.f)(!1)},children:[Object(n.jsx)("div",{className:"card__img",children:Object(n.jsx)("img",{src:t?i.e+t:i.g,alt:""})}),Object(n.jsx)("div",{className:"card__name",children:s}),Object(n.jsx)("div",{className:"card__score",children:r})]})}},109:function(e,t,s){"use strict";s.r(t);var a=s(11),i=s(44),n=s(46),c=s(27),l=s(45);var r=s(8),d=s.n(r),o=s(16),u=s(12),m=s(0),j=s.n(m),b=s(23),v=s(21),f=s(10),p=s(33),h=s(39),g=s(42),O=s(43),_=s(1),x=Object(v.c)(Object(b.b)((function(e){return{bodyOverflow:e.app.bodyOverflow}}),{setBodyOverflow:O.b}),f.i)((function(e){var t=Object(m.useRef)(null),s=Object(m.useState)(!1),a=Object(u.a)(s,2),i=a[0],n=a[1];return Object(m.useEffect)((function(){n(e.overflow)}),[e.active]),Object(m.useEffect)((function(){e.bodyOverflow?document.body.style.overflow="hidden":document.body.style.overflow=""}),[e.bodyOverflow]),Object(_.jsxs)("div",{id:e.id,className:"modal ".concat(i?"active":""),onClick:function(s){(s.target.classList.contains("modal")||s.target.classList.contains("modal__close"))&&(t.current.parentNode.classList.remove("active"),e.setBodyOverflow(!1),e.onClose&&e.onClose())},children:[Object(_.jsx)("div",{ref:t,className:"modal-content ".concat(e.className),children:e.children}),Object(_.jsx)("div",{className:"modal__close",children:Object(_.jsx)("svg",{viewBox:"0 0 20 20",focusable:"true",children:Object(_.jsx)("path",{d:"M10.5 9.3L1.8 0.5 0.5 1.8 9.3 10.5 0.5 19.3 1.8 20.5 10.5 11.8 19.3 20.5 20.5 19.3 11.8 10.5 20.5 1.8 19.3 0.5 10.5 9.3Z"})})})]})})),N=j.a.forwardRef((function(e,t){e.match;var s=e.details,a=(e.setData,e.setTypeActionCreator,e.setLists,e.accoundId,e.lists),i=e.accessToken,n=(e.setAllListsDetails,e.allListsDeails),c=(e.addToList,e.cleanAllListsDetailsAc,e.addToListHandler),l=e.showListsHandler,r=e.textEnding,d=(e.goBackHandler,e.setModalActive);return Object(_.jsxs)("article",{className:"details-head",children:[Object(_.jsx)("div",{className:"details-head__bg",children:Object(_.jsx)("img",{src:"".concat(p.d).concat(s.backdrop_path),alt:""})}),Object(_.jsx)("div",{className:"container-fluid",children:Object(_.jsxs)("div",{className:"details-wrap",children:[Object(_.jsxs)("div",{className:"details-info",children:[Object(_.jsx)("div",{className:"details-networks",children:s.networks&&s.networks.map((function(e,t){return Object(_.jsx)("div",{className:"details-networks__item",children:Object(_.jsx)("img",{src:"".concat(p.e).concat(e.logo_path),alt:e.name})},t)}))}),Object(_.jsx)("h2",{className:"title",children:s.name||s.title}),Object(_.jsxs)("div",{className:"details-metadata",children:[s.first_air_date&&Object(_.jsx)("div",{className:"details-metadata__item",children:s.first_air_date.substr(0,4)}),s.release_date&&Object(_.jsx)("div",{className:"details-metadata__item",children:s.release_date.substr(0,4)}),(s.releases&&s.releases.countries.find((function(e){return"US"===e.iso_3166_1}))&&""!==s.releases.countries.find((function(e){return"US"===e.iso_3166_1})).certification||s.content_ratings)&&Object(_.jsx)("div",{className:"details-metadata__item",children:Object(_.jsx)("span",{className:"rating",children:s.releases&&s.releases.countries.find((function(e){return"US"===e.iso_3166_1}))&&s.releases.countries.find((function(e){return"US"===e.iso_3166_1})).certification||s.content_ratings&&s.content_ratings.results.length>0&&s.content_ratings.results[0].rating})}),s.runtime&&s.runtime>0?Object(_.jsxs)("div",{className:"details-metadata__item",children:[s.runtime," \u043c\u0438\u043d"]}):"",s.number_of_seasons&&Object(_.jsx)("div",{className:"details-metadata__item",children:s.number_of_seasons+" \u0441\u0435\u0437\u043e\u043d"+r(s.number_of_seasons)}),Object(_.jsx)("div",{className:"details-metadata__item genres",children:s.genres.map((function(e,t){return Object(_.jsx)("span",{children:e.name},t)}))})]}),Object(_.jsx)("div",{className:"details-overview",children:s.overview}),s.in_production&&s.last_episode_to_air&&Object(_.jsxs)("div",{className:"details-credits",children:["\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0432\u044b\u0448\u0435\u0434\u0448\u0430\u044f \u0441\u0435\u0440\u0438\u044f:",Object(_.jsxs)("div",{className:"details-credits__item",children:[s.last_episode_to_air.episode_number+" \u0441\u0435\u0440\u0438\u044f "+s.last_episode_to_air.season_number+" \u0441\u0435\u0437\u043e\u043d\u0430:"," ",Object(p.a)(s.last_episode_to_air.air_date)]})]}),s.in_production&&s.next_episode_to_air&&Object(_.jsxs)("div",{className:"details-credits",children:["\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0435\u0440\u0438\u044f:",Object(_.jsxs)("div",{className:"details-credits__item",children:[" ",s.next_episode_to_air.episode_number," \u0441\u0435\u0440\u0438\u044f ",s.next_episode_to_air.season_number," \u0441\u0435\u0437\u043e\u043d\u0430: ",Object(p.a)(s.next_episode_to_air.air_date),"  "]})]}),s.credits.cast&&s.credits.cast.length>1&&Object(_.jsxs)("div",{className:"details-credits",children:["\u0412 \u0440\u043e\u043b\u044f\u0445:",s.credits.cast.map((function(e,t){return t<5&&Object(_.jsx)("div",{className:"details-credits__item",children:e.name},t)}))]}),s.credits.crew&&s.credits.crew.length>0&&Object(_.jsxs)("div",{className:"details-credits",children:["\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u0438:",s.credits.crew.map((function(e,t){return t<2&&Object(_.jsx)("div",{className:"details-credits__item",children:e.name},t)}))]}),Object(_.jsxs)("div",{className:"details-btns",children:[Object(_.jsx)("button",{className:"btn",onClick:d,children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0442\u0440\u0435\u0439\u043b\u0435\u0440"}),i&&a&&a.length>0&&Object(_.jsxs)("div",{className:"addToLists",ref:t,onClick:function(e){return l(e)},children:[Object(_.jsx)("button",{className:"btn",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043e\u043a"}),Object(_.jsx)("ul",{className:"lists",children:a.map((function(e){return Object(_.jsxs)("li",{className:"".concat(n.find((function(t){return t.id===e.id}))&&n.find((function(t){return t.id===e.id})).results.some((function(e){return e.id===s.id}))?"is-ex":""),onClick:function(t){return c(t,e.id)},children:[e.name+"(".concat(e.number_of_items,")"),n.find((function(t){return t.id===e.id}))&&n.find((function(t){return t.id===e.id})).results.some((function(e){return e.id===s.id}))&&Object(_.jsx)("span",{children:"(\u0423\u0436\u0435 \u0432 \u044d\u0442\u043e\u043c \u0441\u043f\u0438\u0441\u043a\u0435)"})]},e.id)}))})]})]})]}),Object(_.jsx)("div",{className:"details-img"})]})}),Object(_.jsx)(k,{details:s})]})})),k=function(e){var t=e.details,s=Object(m.useRef)(null);return Object(_.jsx)(x,{active:!1,id:"modal__".concat(t.id),onClose:function(){t.videos.results.length>0&&(s.current.setAttribute("src",""),s.current.setAttribute("title",""))},children:Object(_.jsxs)("div",{className:"box",children:[Object(_.jsx)("h3",{className:"title middle",children:t.videos.results.length>0?t.videos.results[t.videos.results.length-1].name:"\u041d\u044f\u043c\u0430"}),t.videos.results.length>0&&Object(_.jsx)("div",{className:"modal__video",children:Object(_.jsx)("iframe",{ref:s,src:"",title:"%",frameBorder:"0",width:"100%",height:"100%"})})]})})},C=N,w=(s(35),s(25)),E=(s(9),s(99)),y=s(5),L=s(4);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var T={toggleEl:function(e,t){e[t?"addClass":"removeClass"](this.params.navigation.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=t)},update:function(){var e=this,t=e.params.navigation,s=e.navigation.toggleEl;if(!e.params.loop){var a=e.navigation,i=a.$nextEl,n=a.$prevEl;n&&n.length>0&&(e.isBeginning?s(n,!0):s(n,!1),e.params.watchOverflow&&e.enabled&&n[e.isLocked?"addClass":"removeClass"](t.lockClass)),i&&i.length>0&&(e.isEnd?s(i,!0):s(i,!1),e.params.watchOverflow&&e.enabled&&i[e.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(e){var t=this;e.preventDefault(),t.isBeginning&&!t.params.loop||t.slidePrev()},onNextClick:function(e){var t=this;e.preventDefault(),t.isEnd&&!t.params.loop||t.slideNext()},init:function(){var e,t,s=this,a=s.params.navigation;(s.params.navigation=Object(L.b)(s.$el,s.params.navigation,s.params.createElements,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),a.nextEl||a.prevEl)&&(a.nextEl&&(e=Object(y.a)(a.nextEl),s.params.uniqueNavElements&&"string"===typeof a.nextEl&&e.length>1&&1===s.$el.find(a.nextEl).length&&(e=s.$el.find(a.nextEl))),a.prevEl&&(t=Object(y.a)(a.prevEl),s.params.uniqueNavElements&&"string"===typeof a.prevEl&&t.length>1&&1===s.$el.find(a.prevEl).length&&(t=s.$el.find(a.prevEl))),e&&e.length>0&&e.on("click",s.navigation.onNextClick),t&&t.length>0&&t.on("click",s.navigation.onPrevClick),Object(L.d)(s.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}),s.enabled||(e&&e.addClass(a.lockClass),t&&t.addClass(a.lockClass)))},destroy:function(){var e=this,t=e.navigation,s=t.$nextEl,a=t.$prevEl;s&&s.length&&(s.off("click",e.navigation.onNextClick),s.removeClass(e.params.navigation.disabledClass)),a&&a.length&&(a.off("click",e.navigation.onPrevClick),a.removeClass(e.params.navigation.disabledClass))}},A={name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){Object(L.a)(this,{navigation:S({},T)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},"enable disable":function(e){var t=e.navigation,s=t.$nextEl,a=t.$prevEl;s&&s[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),a&&a[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)},click:function(e,t){var s=e.navigation,a=s.$nextEl,i=s.$prevEl,n=t.target;if(e.params.navigation.hideOnClick&&!Object(y.a)(n).is(i)&&!Object(y.a)(n).is(a)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===n||e.pagination.el.contains(n)))return;var c;a?c=a.hasClass(e.params.navigation.hiddenClass):i&&(c=i.hasClass(e.params.navigation.hiddenClass)),!0===c?e.emit("navigationShow"):e.emit("navigationHide"),a&&a.toggleClass(e.params.navigation.hiddenClass),i&&i.toggleClass(e.params.navigation.hiddenClass)}}}},D=s(98),H=(s(60),s(61),s(100)),I=function(e){var t=Object(m.useState)(null),s=Object(u.a)(t,2),a=s[0],i=s[1];return Object(m.useEffect)((function(){e.toSlide&&a&&(a.slideTo(0),e.setToSlide(!1))}),[a,e.toSlide]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("article",{className:"details-slider",children:Object(_.jsxs)("div",{className:"container-fluid",children:[Object(_.jsx)("h3",{className:"title middle",children:e.title}),Object(_.jsx)("div",{className:"details-slider__wrap",children:Object(_.jsx)(H.a,{spaceBetween:15,slidesPerView:"auto",navigation:!0,className:"details-slider__container",onSwiper:function(e){i(e)},children:e.children})})]})})})};E.a.use([A]);var $=function(e){var t=e.image,s=Object(m.useRef)(null);return Object(_.jsxs)(x,{active:!1,id:"modal-image",onClose:function(){t.src&&e.setImage({src:null,id:null})},className:"modal_image",children:[Object(_.jsx)("div",{className:"box",children:t.src&&Object(_.jsx)("div",{className:"modal__img",children:Object(_.jsx)("img",{ref:s,src:p.d+t.src,alt:""})})}),Object(_.jsx)("div",{className:"modal__btn-prev",onClick:e.setPrevImageHandler}),Object(_.jsx)("div",{className:"modal__btn-next",onClick:e.setNextImageHandler}),Object(_.jsxs)("div",{className:"modal__pagination",children:[t.id+1," \u0438\u0437 ",e.total]})]})},B=function(e){var t=e.details,s=e.setModalActive,a=e.toSlide,i=e.setToSlide,n=Object(m.useState)({src:null,id:null}),c=Object(u.a)(n,2),l=c[0],r=c[1];Object(m.useRef)(null),Object(m.useRef)(null);return Object(_.jsxs)(_.Fragment,{children:[t.images&&t.images.backdrops.length>0&&Object(_.jsx)(I,{title:"\u0418\u0437\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",toSlide:a,setToSlide:i,children:t.images.backdrops.map((function(e,t){return Object(_.jsx)(D.a,{onClick:function(a){return function(e,t,a){r({src:t.file_path,id:a}),s()}(0,e,t)},className:"details-slider__item img",children:Object(_.jsx)("img",{src:p.c+e.file_path,alt:""})},t)}))}),Object(_.jsx)($,{image:l,setImage:r,setNextImageHandler:function(){l.id+1>t.images.backdrops.length-1?r({src:t.images.backdrops[0].file_path,id:0}):r({src:t.images.backdrops[l.id+1].file_path,id:l.id+1})},setPrevImageHandler:function(){l.id-1<0?r({src:t.images.backdrops[t.images.backdrops.length-1].file_path,id:t.images.backdrops.length-1}):r({src:t.images.backdrops[l.id-1].file_path,id:l.id-1})},total:t.images.backdrops.length})]})},P=s(101);E.a.use([A]);var q=function(e){var t=e.details,s=e.setDataHandler,a=e.toSlide,i=e.setToSlide;return Object(_.jsx)(_.Fragment,{children:t.recommendations&&t.recommendations.results.length>0&&Object(_.jsx)(I,{title:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438",toSlide:a,setToSlide:i,children:t.recommendations.results.map((function(e,t){return Object(_.jsx)(D.a,{className:"details-slider__item small",children:Object(_.jsx)(P.a,{src:e.poster_path,title:e.title||e.name,type:e.media_type,titleId:e.id,score:e.vote_average.toFixed(1),clickHandler:function(){return t=e.id,a=e.media_type,void s(t,a,!0);var t,a}})},t)}))})})};new w.a,t.default=Object(v.c)(Object(b.b)((function(e){return{details:e.details.data,type:e.details.titleType,accessToken:e.auth.accessToken,accoundId:e.auth.accountId,lists:e.lists.lists,allListsDeails:e.lists.allListsDeails}}),{setData:h.b,setTypeActionCreator:h.c,setLists:g.f,setAllListsDetails:g.d,addToList:g.a,cleanAllListsDetailsAc:g.b,setBodyOverflow:O.b}),f.i)((function(e){var t=e.match,s=e.details,r=e.setData,j=e.setTypeActionCreator,b=e.setLists,v=e.accoundId,p=e.lists,h=e.accessToken,g=e.setAllListsDetails,O=e.allListsDeails,x=e.addToList,N=(e.cleanAllListsDetailsAc,e.setBodyOverflow),k=Object(f.g)(),w=Object(m.useState)(!1),E=Object(u.a)(w,2),y=E[0],L=E[1],S=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r(e,t),j(t),s&&(document.querySelector(".details").scrollIntoView({block:"start"}),L(!0))};Object(m.useEffect)((function(){S(t.params.titleId,t.params.titleType)}),[]);var T=function(){p&&p.length>0&&p.forEach((function(e){(O.length<1||!O.some((function(t){return t.id===e.id})))&&g(e.id)}))};Object(m.useEffect)((function(){var e;s&&(document.title=null!==(e=s.name)&&void 0!==e?e:s.title)}),[s]),Object(m.useEffect)((function(){h&&T()}),[p]),Object(m.useEffect)((function(){h&&b(v)}),[v]);var A=Object(m.useRef)(null),D=function(){var e=Object(o.a)(d.a.mark((function e(a,i){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(i,t.params.titleType,s.id,v),setTimeout((function(){}),2e3);case 2:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),H=Object(m.useState)([]),I=Object(u.a)(H,2),$=I[0],P=I[1];return Object(m.useEffect)((function(){return k.listen((function(e){"PUSH"===k.action&&P([e.key]),"POP"===k.action&&($[1]===e.key?(P((function(e){var t,s=(t=e,Object(i.a)(t)||Object(n.a)(t)||Object(c.a)(t)||Object(l.a)());s[0];return s.slice(1)})),1===e.pathname.indexOf("title")&&e.pathname&&e.pathname.indexOf("title")&&S(e.pathname.split("/title/")[1].split("/")[1],e.pathname.split("/title/")[1].split("/")[0],!0)):(P((function(t){return[e.key].concat(Object(a.a)(t))})),1===e.pathname.indexOf("title")&&e.pathname&&e.pathname.indexOf("title")&&S(e.pathname.split("/title/")[1].split("/")[1],e.pathname.split("/title/")[1].split("/")[0],!0)))}))}),[$,k.location.pathname]),null!==s&&Object(_.jsxs)("section",{className:"details",id:"detais-".concat(s.id),children:[Object(_.jsx)(C,{match:t,details:s,setData:r,setTypeActionCreator:j,setLists:b,accoundId:v,lists:p,accessToken:h,getAllListDetailsHandler:T,allListsDeails:O,addToList:x,addToListHandler:D,ref:A,textEnding:function(e){return e%10>=2&&e%10<=4?"\u0430":e%10>=5&&e%10<=9||e%10===0&&1!==e?"\u043e\u0432":""},showListsHandler:function(e){A.current.classList.contains("is-active")?e.target.classList.contains("is-ex")||A.current.classList.remove("is-active"):A.current.classList.add("is-active")},goBackHandler:function(){k.goBack()},setModalActive:function(){var e=document.querySelector("#modal__".concat(s.id));e.classList.toggle("active"),N(!0),s.videos.results.length>0&&(e.querySelector("iframe").setAttribute("src","https://www.youtube.com/embed/".concat(s.videos.results[s.videos.results.length-1].key)),e.querySelector("iframe").setAttribute("title",s.videos.results[s.videos.results.length-1].name))}}),Object(_.jsx)(B,{details:s,setModalActive:function(){document.querySelector("#modal-image").classList.toggle("active"),N(!0)},toSlide:y,setToSlide:L}),Object(_.jsx)(q,{details:s,setDataHandler:S,toSlide:y,setToSlide:L})]})}))}}]);
//# sourceMappingURL=7.024e2553.chunk.js.map